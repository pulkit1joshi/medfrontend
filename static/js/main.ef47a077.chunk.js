(this.webpackJsonpmedfrontend=this.webpackJsonpmedfrontend||[]).push([[0],{107:function(e,t,a){},218:function(e,t,a){},222:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(0),i=a.n(n),r=a(20),o=a.n(r),c=a(14),l=a(15),d=a(17),h=a(16),j=a(37),m=a(22),b=a(29),g=a(23),p=a.n(g),u=a(10),x="UPDATE_USER",O=function(e){return function(t){var a=sessionStorage.getItem("medtoken");if(console.log("Updating user"),null!=a){var s={Accept:"application/json","Content-Type":"application/json;charset=UTF-8","auth-token":a};p.a.get("https://evening-anchorage-15734.herokuapp.com/api/p/profile",{headers:s}).then((function(a){console.log(a.data),a.data.user2&&a.data.user||console.log("Big error"),e={isLogged:!0,userName:a.data.user2.firstname,userId:a.data.user.userid,email:a.data.user2.email,name:a.data.user2.firstname,imageUrl:a.data.user.image},console.log(e),t({type:x,payload:e})}))}}},f=a(30),y=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={email:"",password:"",show_input:!1,isLogged:!1,errortext:""},s.onChange=s.onChange.bind(Object(m.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(m.a)(s)),s}return Object(l.a)(a,[{key:"onChange",value:function(e){var t=e.target,a=t.value,s=t.name;this.setState(Object(j.a)({},s,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=JSON.stringify({email:this.state.email,password:this.state.password});p.a.post("https://evening-anchorage-15734.herokuapp.com/api/user/login",a,{headers:{"Content-Type":"application/json"}}).then((function(e){e.data.error?t.setState({errortext:e.data.msg}):(sessionStorage.setItem("medtoken",e.data.msg.token),t.props.updateUser({isLogged:!0,userName:"Someone"}),t.setState({isLogged:!0}))}))}},{key:"render",value:function(){return this.props.isLogged?Object(s.jsx)("div",{children:"Logged In Already"}):Object(s.jsxs)(u.a,{onSubmit:this.handleSubmit,children:[" ",Object(s.jsx)(u.a.Text,{className:"text-muted",children:this.state.errortext}),Object(s.jsx)("h1",{children:"Login "})," ",Object(s.jsx)("br",{}),Object(s.jsx)(u.a.Label,{children:"Email: "})," ",Object(s.jsx)("br",{}),Object(s.jsx)(u.a.Control,{type:"text",name:"email",onChange:this.onChange,value:this.state.email}),Object(s.jsx)("br",{}),Object(s.jsx)(u.a.Label,{children:"Password: "})," ",Object(s.jsx)("br",{}),Object(s.jsx)(u.a.Control,{type:this.state.show_input?"text":"password",name:"password",onChange:this.onChange,value:this.state.password}),Object(s.jsx)("br",{}),Object(s.jsx)(b.a,{type:"submit",children:"Submit"})]})}}]),a}(n.Component),v=Object(f.b)((function(e){return{isLogged:e.user.isLogged,userName:e.user.userName}}),{updateUser:O})(y),C=a(27),w=a(18),S=a.n(w),k=a(28),T=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;Object(c.a)(this,a),(s=t.call(this,e)).state={email:"",password:"",firstname:"",lastname:"",username:"",show_input:!1,isLogged:!1,isRegistered:!1,errorText:""};var n=sessionStorage.getItem("medtoken");if(null!=n){var i={Accept:"application/json","Content-Type":"application/json;charset=UTF-8","auth-token":n};p.a.get("https://evening-anchorage-15734.herokuapp.com/api/p/profile",{headers:i}).then((function(e){s.setState({isLogged:!0})}))}return s.onChange=s.onChange.bind(Object(m.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(m.a)(s)),s}return Object(l.a)(a,[{key:"onChange",value:function(e){var t=e.target,a=t.value,s=t.name;this.setState(Object(j.a)({},s,a))}},{key:"handleSubmit",value:function(){var e=Object(k.a)(S.a.mark((function e(t){var a,s,n=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=JSON.stringify({firstname:this.state.firstname,lastname:this.state.lastname,username:this.state.username,email:this.state.email,password:this.state.password}),s={"Content-Type":"application/json"},e.next=5,p.a.post("https://evening-anchorage-15734.herokuapp.com/api/user/register",a,{headers:s}).then((function(e){e.data.error?n.setState({errorText:e.data.msg}):n.setState({isRegistered:!0})})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isRegistered||this.state.isLogged?Object(s.jsx)("div",{children:"Registered user"}):Object(s.jsxs)("div",{children:[Object(s.jsx)(u.a.Text,{className:"text-muted",children:this.state.errorText}),Object(s.jsxs)(u.a,{onSubmit:this.handleSubmit,children:[" ",Object(s.jsx)(u.a.Text,{className:"text-muted",children:this.state.errortext}),Object(s.jsx)("h2",{children:"Register "})," ",Object(s.jsx)("br",{}),Object(s.jsx)(u.a.Label,{children:"First Name: "})," ",Object(s.jsx)("br",{}),Object(s.jsx)(u.a.Control,{type:"text",name:"firstname",onChange:this.onChange,value:this.state.firstname})," ",Object(s.jsx)("br",{}),Object(s.jsx)(u.a.Label,{children:"Last Name: "})," ",Object(s.jsx)("br",{}),Object(s.jsx)(u.a.Control,{type:"text",name:"lastname",onChange:this.onChange,value:this.state.lastname})," ",Object(s.jsx)("br",{}),Object(s.jsx)(u.a.Label,{children:"User Name: "})," ",Object(s.jsx)("br",{}),Object(s.jsx)(u.a.Control,{type:"text",name:"username",onChange:this.onChange,value:this.state.username})," ",Object(s.jsx)("br",{}),Object(s.jsx)(u.a.Label,{children:"Email: "})," ",Object(s.jsx)("br",{}),Object(s.jsx)(u.a.Control,{type:"text",name:"email",onChange:this.onChange,value:this.state.email}),Object(s.jsx)("br",{}),Object(s.jsx)(u.a.Label,{children:"Password: "})," ",Object(s.jsx)("br",{}),Object(s.jsx)(u.a.Control,{type:this.state.show_input?"text":"password",name:"password",onChange:this.onChange,value:this.state.password}),Object(s.jsx)("br",{}),Object(s.jsx)(b.a,{type:"submit",children:"Submit"})]})]})}}]),a}(n.Component),N=a(11),L=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)(i.a.Fragment,{children:Object(s.jsxs)(C.d,{children:[Object(s.jsx)(C.b,{path:"/medfrontend/auth/login",children:Object(s.jsx)(N.a,{children:Object(s.jsx)(v,{})})}),Object(s.jsx)(C.b,{path:"/medfrontend/auth/register",children:Object(s.jsx)(N.a,{children:Object(s.jsx)(T,{})})})]})})}}]),a}(n.Component),W=a(134),R=a(25),F=a(62),z=a(272),I=a(255),U=a(256),P=a(268),E=a(257),B=a(258),A=a(259),G=a(260),D=a(261),Y=a(224),H={fontFamily:"charter, Georgia, Cambria, 'Times New Roman', Times, serif",textTransform:"capitalize"},M=44,J="https://evening-anchorage-15734.herokuapp.com",_=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={isLogged:s.props.isLogged,userName:"",imageUrl:"",open:!1,openreg:!1,email:"",password:"",errortext:"",firstname:"",lastname:"",username:"",isRegistered:!1},s.handleClose=s.handleClose.bind(Object(m.a)(s)),s.handleSubmitLogin=s.handleSubmitLogin.bind(Object(m.a)(s)),s.handleOpen=s.handleOpen.bind(Object(m.a)(s)),s.props.updateUser(),s.logout=s.logout.bind(Object(m.a)(s)),s.onChange=s.onChange.bind(Object(m.a)(s)),s.handleCloseReg=s.handleCloseReg.bind(Object(m.a)(s)),s.handleOpenReg=s.handleOpenReg.bind(Object(m.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(m.a)(s)),s}return Object(l.a)(a,[{key:"onChange",value:function(e){console.log("Changing");var t=e.target,a=t.value,s=t.name;console.log(s),console.log(a),this.setState(Object(j.a)({},s,a))}},{key:"handleSubmit",value:function(){var e=Object(k.a)(S.a.mark((function e(){var t,a,s=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("YOYO"),t=JSON.stringify({firstname:this.state.firstname,lastname:this.state.lastname,username:this.state.username,email:this.state.email,password:this.state.password}),a={"Content-Type":"application/json"},e.next=5,p.a.post(J+"/api/user/register",t,{headers:a}).then((function(e){e.data.error?(s.setState({errortext:e.data.msg}),console.log(e.data.error)):(s.setState({isRegistered:!0}),s.handleCloseReg(),s.handleOpen())})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmitLogin",value:function(){var e=this,t=JSON.stringify({email:this.state.email,password:this.state.password});p.a.post(J+"/api/user/login",t,{headers:{"Content-Type":"application/json"}}).then((function(t){t.data.error?(e.setState({errortext:t.data.msg}),console.log(t.data.error)):(sessionStorage.setItem("medtoken",t.data.msg.token),e.props.updateUser({isLogged:!0,userName:"Someone"}),e.setState({isLogged:!0}),e.handleClose())})).catch((function(e){console.log(e)}))}},{key:"handleCloseReg",value:function(){console.log("YOYO"),this.setState({openreg:!1}),console.log(this.state.open)}},{key:"handleOpenReg",value:function(){this.setState({openreg:!0})}},{key:"handleClose",value:function(){console.log("YOYO"),this.setState({open:!1}),console.log(this.state.open)}},{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"logout",value:function(){console.log("Logout try"),this.props.logoutUser(),this.setState({isLogged:!1,userName:""})}},{key:"render",value:function(){return this.props.isLogged?Object(s.jsx)("div",{children:Object(s.jsx)(A.a,{position:"static",style:{backgroundColor:"#FFFF",boxShadow:"none"},children:Object(s.jsx)(G.a,{container:!0,xs:12,md:12,lg:12,style:{position:"fixed",backgroundColor:"inherit",display:"block",zIndex:"100",paddingTop:"0.5em",paddingBottom:"0.5em",borderBottom:"1px solid black"},children:Object(s.jsxs)(D.a,{style:{flexGrow:1},children:[Object(s.jsx)(G.a,{item:!0,xs:1,md:2,lg:2}),Object(s.jsxs)(G.a,{item:!0,xs:3,md:2,lg:2,children:[" ",Object(s.jsx)(Y.a,{variant:"h3",style:{color:"black"},children:Object(s.jsx)(R.b,{exact:!0,to:"/medfrontend/",style:{fontWeight:"bold",color:"black"},children:"MedBook"})})]}),Object(s.jsx)(G.a,{item:!0,xs:4,md:4,lg:4}),Object(s.jsx)(W.a,{className:"ml-auto",children:Object(s.jsxs)(F.a,{title:Object(s.jsx)("img",{src:this.props.imageUrl,style:{width:"40px",height:"40px",borderRadius:"50%"},alt:"Your profile pic"}),alignRight:!0,id:"dropdown-menu-align-right",flip:!0,children:[Object(s.jsx)(F.a.Item,{children:Object(s.jsxs)(R.b,{to:"/medfrontend/user/profile/"+this.props.userId,children:["Welcome ",this.props.userName]})}),Object(s.jsx)(F.a.Item,{children:Object(s.jsx)(R.b,{to:"/medfrontend/user/settings",children:"Settings"})}),Object(s.jsx)(F.a.Item,{children:Object(s.jsx)(R.b,{to:"/medfrontend/post/new",children:"New Post"})}),Object(s.jsx)(F.a.Item,{children:Object(s.jsx)(R.b,{onClick:this.logout,children:"Logout"})})]})}),Object(s.jsx)("hr",{})]})})})}):Object(s.jsxs)("div",{children:[Object(s.jsxs)(z.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title","aria-describedby":"simple-modal-description",fullWidth:!0,children:[Object(s.jsx)(I.a,{id:"form-dialog-title",style:{paddingBottom:0},children:Object(s.jsx)("p",{style:{fontSize:"3em",fontFamily:"charter, Georgia, Cambria, 'Times New Roman', Times, serif"},children:"Sign in"})}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("p",{style:{fontSize:"10px",color:"red"},children:this.state.errortext}),Object(s.jsx)(P.a,{name:"email",defaultValue:"Email",value:this.state.email,onChange:this.onChange,fullWidth:!0,label:"Email",size:"big",inputProps:{style:{height:M,fontSize:15}}}),Object(s.jsx)("br",{}),Object(s.jsx)(P.a,{name:"password",defaultValue:"Password",label:"Password",type:"password",value:this.state.password,onChange:this.onChange,size:"large",fullWidth:!0,inputProps:{style:{height:M,fontSize:15}}})]}),Object(s.jsxs)(E.a,{children:[Object(s.jsx)(B.a,{onClick:this.handleClose,style:{fontSize:17},color:"primary",children:"Cancel"}),Object(s.jsx)(B.a,{onClick:this.handleSubmitLogin,style:{fontSize:17},color:"primary",children:"Sign in"})]})]}),Object(s.jsxs)(z.a,{open:this.state.openreg,onClose:this.handleCloseReg,"aria-labelledby":"form-dialog-title","aria-describedby":"simple-modal-description",fullWidth:!0,children:[Object(s.jsx)(I.a,{id:"form-dialog-title",style:{paddingBottom:0},children:Object(s.jsx)("p",{style:{fontSize:"3em",fontFamily:"charter, Georgia, Cambria, 'Times New Roman', Times, serif"},children:"Sign Up"})}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)("p",{style:{fontSize:"10px",color:"red"},children:this.state.errortext}),Object(s.jsx)(P.a,{name:"firstname",defaultValue:"First Name",fullWidth:!0,value:this.state.firstname,onChange:this.onChange,label:"First Name",inputProps:{style:{height:M,fontSize:15}}}),Object(s.jsx)(P.a,{name:"lastname",defaultValue:"Last Name",fullWidth:!0,value:this.state.lastname,onChange:this.onChange,label:"Last Name",inputProps:{style:{height:M,fontSize:15}}}),Object(s.jsx)(P.a,{name:"username",defaultValue:"User Name",fullWidth:!0,value:this.state.username,onChange:this.onChange,label:"User Name",inputProps:{style:{height:M,fontSize:15}}}),Object(s.jsx)("br",{}),Object(s.jsx)(P.a,{name:"email",defaultValue:"Email",value:this.state.email,onChange:this.onChange,fullWidth:!0,label:"Email",size:"big",inputProps:{style:{height:M,fontSize:15}}}),Object(s.jsx)("br",{}),Object(s.jsx)(P.a,{name:"password",defaultValue:"Password",label:"Password",type:"password",value:this.state.password,onChange:this.onChange,size:"large",fullWidth:!0,inputProps:{style:{height:M,fontSize:15}}})]}),Object(s.jsxs)(E.a,{children:[Object(s.jsx)(B.a,{onClick:this.handleCloseReg,style:{fontSize:17},color:"primary",children:"Cancel"}),Object(s.jsx)(B.a,{onClick:this.handleSubmit,style:{fontSize:17},color:"primary",children:"Sign Up"})]})]}),Object(s.jsx)(A.a,{position:"static",style:{backgroundColor:"rgba(255, 192, 23, 0.1)",marginBottom:"0em",boxShadow:"none"},children:Object(s.jsx)(G.a,{container:!0,xs:12,md:12,lg:12,style:{position:"fixed",display:"block",zIndex:"100",paddingTop:"0.5em",paddingBottom:"0.5em",borderBottom:"1px solid black",backgroundColor:"rgba(255, 192, 23, 0.5)"},children:Object(s.jsxs)(D.a,{style:{flexGrow:1,borderColor:"black"},children:[Object(s.jsx)(G.a,{item:!0,xs:1,md:2,lg:2}),Object(s.jsxs)(G.a,{item:!0,xs:2,md:2,lg:2,children:[" ",Object(s.jsx)(Y.a,{variant:"h3",style:{color:"black"},children:Object(s.jsx)(R.b,{exact:!0,to:"/medfrontend/",style:{fontWeight:"bold",color:"black"},children:"MedBook"})})]}),Object(s.jsx)(G.a,{item:!0,xs:5,md:5,lg:5}),Object(s.jsx)(B.a,{color:"inherit",onClick:this.handleOpen,style:H,children:Object(s.jsx)(R.b,{exact:!0,style:{fontSize:"2em",color:"black"},children:"Sign in"})}),Object(s.jsx)(G.a,{item:!0,children:Object(s.jsx)(G.a,{item:!0,className:"d-none d-lg-block",children:Object(s.jsx)(B.a,{color:"inherit",onClick:this.handleOpenReg,style:H,children:Object(s.jsx)(R.b,{exact:!0,style:{fontSize:"2em",color:"black"},children:"Sign up"})})})}),Object(s.jsx)(G.a,{item:!0,xs:1,md:1,lg:1}),Object(s.jsx)("hr",{})]})})})]})}}]),a}(n.Component),V=Object(f.b)((function(e){return{isLogged:e.user.isLogged,userName:e.user.userName,imageUrl:e.user.imageUrl,userId:e.user.userId}}),{updateUser:O,logoutUser:function(){return function(e){sessionStorage.setItem("medtoken",null),console.log("Updating user"),console.log("Dispatching");e({type:x,payload:{isLogged:!1,userName:"",userId:"",email:"",name:"",imageUrl:""}})}}})(_),q=a(19),K=a(47),Q=a(129),X=a(92),Z={isLogged:!1,userName:"",userId:"",email:"",imageUrl:""},$=Object(K.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return console.log(t.payload.isLogged),Object(X.a)(Object(X.a)({},e),{},{isLogged:t.payload.isLogged,userName:t.payload.userName,userId:t.payload.userId,email:t.payload.email,name:t.payload.name,imageUrl:t.payload.imageUrl});default:return e}}}),ee=[Q.a],te=Object(K.e)($,{},Object(K.d)(K.a.apply(void 0,ee))),ae=a(130),se=a(131),ne=(a(107),{borderTopWidth:"0em",borderRightWidth:"0em",borderLeftWidth:"0em",boxShadow:"none",borderRadius:"1px",padding:"0.1em",backgroundColor:"white"}),ie=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;Object(c.a)(this,a),(s=t.call(this,e)).state={password:"",password2:"",password3:"",togglepassword:!0,togglebio:!0,toggleimg:!0,toggleusername:!0,toggleemail:!0,togglename:!0,show_input:!1,isLogged:!0,firstname:"",lastname:"",username:"",email:"",name:"",bio:"",gender:"",interests:"",followers:"",posts:"",publications:"",img:"",errortext:"",passtext:"",succtext:""},console.log(e.isLogged);var n=sessionStorage.getItem("medtoken");if(null!=n){var i={Accept:"application/json","auth-token":n};p.a.get("https://evening-anchorage-15734.herokuapp.com/api/p/profile",{headers:i}).then((function(e){if(e.data.error)return s.setState({errortext:e.data.error.msg});var t=e.data.user;console.log(e.data);var a="male";a=1===t.gender?1:2,s.setState({password3:e.data.user2.password,firstname:e.data.user2.firstname,lastname:e.data.user2.lastname,username:e.data.user2.username,email:e.data.user2.email,bio:t.about,gender:a,interests:t.interests,followers:t.followerids,posts:t.postids,publications:t.publicationids,img:t.image,errortext:""})}))}return s.onChange=s.onChange.bind(Object(m.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(m.a)(s)),s}return Object(l.a)(a,[{key:"onChange",value:function(){var e=Object(k.a)(S.a.mark((function e(t){var a,s,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,s=a.value,n=a.name,e.next=5,this.setState(Object(j.a)({},n,s));case 5:"password"!==n&&"password2"!==n||(this.state.password!==this.state.password2?(console.log(this.state.password),console.log(this.state.password2),this.setState({passtext:"Passwords do not match."})):this.state.password.length<8?this.setState({passtext:"Password length must more then 8"}):(this.setState({password3:s}),this.setState({passtext:""})));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(k.a)(S.a.mark((function e(t){var a,s,n,i=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("Submit clicked"),0!==this.state.firstname.length){e.next=7;break}return this.setState({errortext:"First name can not be empty",succtext:""}),e.abrupt("return");case 7:if(0!==this.state.lastname.length){e.next=12;break}return this.setState({errortext:"Last name can not be empty",succtext:""}),e.abrupt("return");case 12:if(0!==this.state.username.length){e.next=17;break}return this.setState({errortext:"User name can not be empty",succtext:""}),e.abrupt("return");case 17:if(0!==this.state.email.length){e.next=20;break}return this.setState({errortext:"Email name can not be empty",succtext:""}),e.abrupt("return");case 20:return a=JSON.stringify({email:this.state.email,password:this.state.password3,username:this.state.username,lastname:this.state.lastname,firstname:this.state.firstname,about:this.state.bio,image:this.state.img,gender:this.state.gender,country:1,interests:[]}),s=sessionStorage.getItem("medtoken"),n={"Content-Type":"application/json","auth-token":s},e.next=25,p.a.post("https://evening-anchorage-15734.herokuapp.com/api/p/profile",a,{headers:n}).then((function(e){e.data.error?console.log(e):(console.log(e),i.setState({succtext:"Updated",errortext:""}))})).catch((function(e){console.log(e)}));case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.isLogged?Object(s.jsx)(G.a,{xs:8,md:8,lg:8,style:{paddingTop:"7em"},children:Object(s.jsx)(ae.a,{fluid:!0,children:Object(s.jsxs)(q.a,{children:[Object(s.jsx)(N.a,{xs:12,md:12,lg:3,className:"d-none d-lg-block",style:{backgroundColor:"white",margin:"0em"},children:Object(s.jsxs)("div",{style:{position:"fixed"},children:[Object(s.jsx)(q.a,{style:{margin:"0.6em",marginTop:"-5%"},children:Object(s.jsx)(u.a.Text,{style:{backgroundColor:"white",color:"red",position:"fixed"},className:"text-center",fluid:!0,children:this.state.errortext})}),Object(s.jsx)(q.a,{style:{margin:"0.6em",marginTop:"-5%"},children:Object(s.jsx)(u.a.Text,{style:{backgroundColor:"white",color:"green",position:"fixed"},className:"text-center",fluid:!0,children:this.state.succtext})}),Object(s.jsx)("hr",{}),Object(s.jsx)(q.a,{style:{margin:"0.6em",marginTop:"0em"},children:Object(s.jsx)("h3",{children:Object(s.jsx)("b",{children:"Settings"})})}),Object(s.jsx)(q.a,{style:{margin:"0.7em",color:"gray"},children:Object(s.jsx)("h4",{children:Object(s.jsx)("b",{children:"Profile"})})}),Object(s.jsx)(q.a,{style:{margin:"0.7em",color:"gray"},children:Object(s.jsx)("h4",{children:Object(s.jsx)("b",{children:"Email Settings"})})}),Object(s.jsx)(q.a,{style:{margin:"0.7em",color:"gray"},children:Object(s.jsx)("h4",{children:Object(s.jsx)("b",{children:"Account"})})}),Object(s.jsx)(q.a,{style:{margin:"0.7em",color:"gray"},children:Object(s.jsx)("h4",{children:Object(s.jsx)("b",{children:"Security"})})}),Object(s.jsx)(q.a,{style:{margin:"0.7em",color:"gray"},children:Object(s.jsx)("h4",{children:Object(s.jsx)("b",{})})}),Object(s.jsx)(q.a,{style:{margin:"0.7em",color:"gray"},children:Object(s.jsx)("h4",{children:Object(s.jsx)("b",{})})}),Object(s.jsx)(q.a,{style:{margin:"0.7em",color:"gray"},children:Object(s.jsx)("h4",{children:Object(s.jsx)("b",{})})}),Object(s.jsx)("hr",{style:{border:"1em",backgroundColor:"black"}})]})}),Object(s.jsxs)(N.a,{style:{backgroundColor:"white"},children:[Object(s.jsx)("h3",{children:Object(s.jsx)("b",{children:"Profile"})}),Object(s.jsx)("hr",{}),Object(s.jsxs)(u.a,{onSubmit:this.handleSubmit,children:[Object(s.jsxs)(q.a,{children:[Object(s.jsxs)(N.a,{xs:8,children:[Object(s.jsx)("h4",{children:Object(s.jsx)("b",{children:"Name"})}),Object(s.jsxs)(q.a,{children:[Object(s.jsx)(N.a,{xs:6,children:Object(s.jsx)(u.a.Control,{type:"name",name:"firstname",onChange:this.onChange,value:this.state.firstname,readOnly:this.state.togglename,style:ne})}),Object(s.jsx)(N.a,{xs:4,children:Object(s.jsx)(u.a.Control,{type:"name",name:"lastname",value:this.state.lastname,onChange:this.onChange,readOnly:this.state.togglename,style:ne})})]}),Object(s.jsx)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:"Your name appears on your Profile page, as your byline, and in your responses. It is a required field."})]}),Object(s.jsx)(N.a,{xs:2}),Object(s.jsx)(N.a,{xs:2,children:Object(s.jsx)(b.a,{variant:"outline-dark",style:{borderWidth:"1px"},onClick:function(){e.setState({togglename:!e.state.togglename})},children:"Edit"})})]}),Object(s.jsxs)(q.a,{style:{marginTop:"6em"},children:[Object(s.jsxs)(N.a,{xs:8,children:[Object(s.jsx)("h4",{children:Object(s.jsx)("b",{children:"Bio"})}),Object(s.jsx)(u.a.Control,{type:"Bio",onChange:this.onChange,name:"bio",readOnly:this.state.togglebio,value:this.state.bio,style:ne}),Object(s.jsx)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:"Your bio appears on your Profile page. Max 160 characters."})]}),Object(s.jsx)(N.a,{xs:2}),Object(s.jsx)(N.a,{xs:2,children:Object(s.jsx)(b.a,{variant:"outline-dark",style:{borderWidth:"1px"},onClick:function(){e.setState({togglebio:!e.state.togglebio})},children:"Edit"})})]}),Object(s.jsxs)(q.a,{style:{marginTop:"6em"},children:[Object(s.jsxs)(N.a,{xs:6,children:[Object(s.jsx)("h4",{children:Object(s.jsx)("b",{children:"Photo"})}),Object(s.jsx)(u.a.Control,{type:"text",name:"img",value:this.state.img,onChange:this.onChange,style:ne,readOnly:this.state.toggleimg}),Object(s.jsxs)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:["Your photo appears on your Profile page and with your stories across Medium.",Object(s.jsx)("br",{}),"Recommended size: Square, at least 1000 pixels per side. File type: JPG, PNG or GIF"]})]}),Object(s.jsx)(N.a,{xs:4,children:Object(s.jsxs)(N.a,{xs:8,children:[Object(s.jsx)("br",{}),Object(s.jsx)(se.a,{src:this.state.img,style:{width:"80px",height:"80px",borderRadius:"50%"}})]})}),Object(s.jsx)(N.a,{xs:2,children:Object(s.jsx)(b.a,{variant:"outline-dark",style:{borderWidth:"1px"},onClick:function(){e.setState({toggleimg:!e.state.toggleimg})},children:"Edit"})})]}),Object(s.jsxs)(q.a,{style:{marginTop:"6em"},children:[Object(s.jsxs)(N.a,{xs:8,children:[Object(s.jsx)("h4",{children:Object(s.jsx)("b",{children:"Username"})}),Object(s.jsx)(u.a.Control,{type:"Bio",name:"username",value:this.state.username,onChange:this.onChange,style:ne,readOnly:this.state.toggleusername}),Object(s.jsx)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:"Your Profile will be available at this address."})]}),Object(s.jsx)(N.a,{xs:2}),Object(s.jsx)(N.a,{xs:2,children:Object(s.jsx)(b.a,{variant:"outline-dark",style:{borderWidth:"1px"},onClick:function(){e.setState({toggleusername:!e.state.toggleusername})},children:"Edit"})})]}),Object(s.jsx)(q.a,{style:{marginTop:"3em",marginLeft:"0.00em"},children:Object(s.jsx)("h3",{children:Object(s.jsx)("b",{children:"Email Settings"})})}),Object(s.jsx)("hr",{}),Object(s.jsxs)(q.a,{style:{marginTop:"3em"},children:[Object(s.jsxs)(N.a,{xs:8,children:[Object(s.jsx)("h4",{children:Object(s.jsx)("b",{children:"Email"})}),Object(s.jsx)(u.a.Control,{type:"Bio",value:this.state.email,name:"email",onChange:this.onChange,style:ne,readOnly:this.state.toggleemail}),Object(s.jsx)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:"This is your main email that will be used for notifying you."})]}),Object(s.jsx)(N.a,{xs:2}),Object(s.jsx)(N.a,{xs:2,children:Object(s.jsx)(b.a,{variant:"outline-dark",style:{borderWidth:"1px"},onClick:function(){e.setState({toggleemail:!e.state.toggleemail})},children:"Edit"})})]}),Object(s.jsx)(q.a,{style:{marginTop:"3em",marginLeft:"0.00em"},children:Object(s.jsx)("h3",{children:Object(s.jsx)("b",{children:"Account"})})}),Object(s.jsx)("hr",{}),Object(s.jsxs)(q.a,{style:{marginTop:"3em"},children:[Object(s.jsxs)(N.a,{xs:8,children:[Object(s.jsx)("h4",{children:Object(s.jsx)("b",{children:"Followers"})}),this.state.followers.length,Object(s.jsx)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:"Your followers love your posts."})]}),Object(s.jsx)(N.a,{xs:2}),Object(s.jsx)(N.a,{xs:2,children:Object(s.jsx)(b.a,{variant:"outline-dark",style:{borderWidth:"1px"},children:"Show"})})]}),Object(s.jsxs)(q.a,{style:{marginTop:"3em"},children:[Object(s.jsxs)(N.a,{xs:8,children:[Object(s.jsx)("h4",{children:Object(s.jsx)("b",{children:"Password"})}),Object(s.jsx)(u.a.Control,{type:"password",placeholder:"password",value:this.state.password,name:"password",onChange:this.onChange,style:ne,readOnly:this.state.togglepassword}),Object(s.jsxs)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:["Password must be at least of 6 characters ",Object(s.jsx)("br",{})]}),Object(s.jsx)(u.a.Text,{style:{color:"red"},children:this.state.passtext})]}),Object(s.jsx)(N.a,{xs:2}),Object(s.jsx)(N.a,{xs:2}),Object(s.jsxs)(N.a,{xs:8,children:[Object(s.jsx)(u.a.Control,{type:"password",placeholder:"Password",value:this.state.password2,name:"password2",onChange:this.onChange,style:ne,readOnly:this.state.togglepassword}),Object(s.jsx)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:"Make sure that passwords match."})]}),Object(s.jsx)(N.a,{xs:2}),Object(s.jsx)(N.a,{xs:2,children:Object(s.jsx)(b.a,{variant:"outline-dark",style:{borderWidth:"1px"},onClick:function(){e.setState({togglepassword:!e.state.togglepassword})},children:"Edit"})})]}),Object(s.jsx)(q.a,{style:{padding:"1em"},children:Object(s.jsx)(b.a,{type:"submit",variant:"outline-success",style:{borderWidth:"1px",marginTop:"1em",marginBottom:"1em"},children:"Save"})})]})]})]})})}):Object(s.jsx)(C.a,{to:"/medfrontend/"})}}]),a}(n.Component),re=Object(f.b)((function(e){return{isLogged:e.user.isLogged,userName:e.user.userName,imageUrl:e.user.imageUrl}}))(ie),oe=a(266),ce=a(80),le=a.n(ce),de=a(7),he=a(262),je=a(263),me=a(264),be=a(265),ge={letterSpacing:"1px",fontWeight:"600",fontSize:"35px",color:"#333",fontFamily:"oswald, sans-serif"},pe={marginTop:"0.5em",fontSize:"20px",color:"#333",fontFamily:"charter, Georgia, Cambria, 'Times New Roman', Times, serif"},ue=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={date:s.props.data.updatedAt.substring(0,10),img:"",body:s.props.data.body.substring(0,500)},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(s.jsxs)(he.a,{className:e.root,children:[Object(s.jsxs)(je.a,{className:"try",children:[Object(s.jsx)(Y.a,{gutterBottom:!0,variant:"h5",component:"h2",className:"try",children:Object(s.jsx)(R.b,{to:"/medfrontend/post/"+this.props.data._id,style:ge,children:Object(s.jsxs)("p",{style:{marginBottom:"0.5em"},children:[" ",this.props.data.title," "]})})}),Object(s.jsx)(me.a,{component:"img",alt:"Post Image",height:"400px",image:this.props.data.imageUrl,title:this.props.data.title}),Object(s.jsx)(Y.a,{variant:"body2",color:"textSecondary",component:"p",style:pe,children:le()(this.state.body)})]}),Object(s.jsx)(be.a,{})]})}}]),a}(n.Component),xe=Object(de.a)((function(e){return{root:{flexGrow:1,boxShadow:"none"},paper:{padding:e.spacing(2),margin:"auto"},image:{},img:{alignItems:"strech",margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}}))(ue),Oe=a(225),fe={paddingTop:"1.0em",fontSize:"64px",fontWeight:"bold",textAlign:"center",fontFamily:"font-family: sohne, 'Helvetica Neue', Helvetica, Arial, sans-serif"},ye={paddingTop:"5em"},ve={marginBottom:"3em",color:"gray",textAlign:"center",fontFamily:'sohne, "Helvetica Neue", Helvetica, Arial, sans-serif',fontSize:"17px"},Ce={color:"gray",fontFamily:'sohne, "Helvetica Neue", Helvetica, Arial, sans-serif',fontSize:"14px",width:"100%"},we={borderRadius:"50%",display:"block",height:"130px",width:"130px"},Se=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={password:"",password2:"",password3:"",togglepassword:!0,togglebio:!0,toggleimg:!0,toggleusername:!0,toggleemail:!0,togglename:!0,show_input:!1,isLogged:!1,firstname:"",lastname:"",username:"",email:"",name:"",bio:"",gender:"",interests:"",followers:"",posts:[],publications:"",img:"",errortext:"",passtext:"",succtext:""},s.getData(),s}return Object(l.a)(a,[{key:"getData",value:function(){var e=Object(k.a)(S.a.mark((function e(){var t,a=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Accept:"application/json"},e.next=3,p.a.get("https://evening-anchorage-15734.herokuapp.com/api/p/profile/"+this.props.match.params.id,{headers:t}).then((function(e){if(e.data.error)return a.setState({errortext:e.data.error.msg});var t=e.data.user;console.log(e.data);var s="male";s=1===t.gender?1:2,a.setState({password3:e.data.user2.password,firstname:e.data.user2.firstname,lastname:e.data.user2.lastname,username:e.data.user2.username,email:e.data.user2.email,bio:t.about,gender:s,interests:t.interests,followers:t.followerids,publications:t.publicationids,img:t.image,errortext:"",followerscount:e.data.user.followerids.length})}));case 3:return e.next=5,p.a.get("https://evening-anchorage-15734.herokuapp.com/api/article/user/"+this.props.match.params.id,{headers:t}).then((function(e){console.log(e),a.setState({posts:e.data.articles})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsx)(i.a.Fragment,{children:Object(s.jsxs)(G.a,{container:!0,style:ye,children:[Object(s.jsx)(G.a,{item:!0,md:2,lg:2,xs:2}),Object(s.jsx)(G.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(s.jsxs)("p",{style:fe,children:[" ",this.state.firstname," ",this.state.lastname]})}),Object(s.jsx)(G.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(s.jsxs)("p",{style:ve,children:[" ",this.state.followerscount," Followers "]})}),Object(s.jsx)(oe.a,{style:{width:"100%"}}),Object(s.jsxs)(G.a,{container:!0,xs:12,md:12,lg:12,children:[Object(s.jsx)(G.a,{item:!0,xs:1,lg:2,md:2}),Object(s.jsx)(G.a,{item:!0,xs:1,lg:2,md:2,style:{marginTop:"2em"},direction:"column",className:"d-none d-lg-block",children:Object(s.jsxs)(G.a,{lg:10,display:{xs:"none",md:"none",lg:"block"},style:{positon:"fixed"},children:[Object(s.jsx)(G.a,{item:!0,style:{marginBottom:"2em"},lg:8,children:Object(s.jsx)(Oe.a,{children:Object(s.jsx)("img",{style:we,alt:"Writers profile pic",src:this.state.img})})}),Object(s.jsx)(G.a,{item:!0,alignItems:"flex-start",lg:8,children:Object(s.jsx)("p",{style:Ce,children:" ABOUT "})}),Object(s.jsx)(G.a,{item:!0,alignItems:"flex-start",lg:8,children:Object(s.jsxs)("p",{style:{fontWeight:"bold",fontSize:"16px"},children:[" ",this.state.firstname," ",this.state.lastname]})}),Object(s.jsx)(G.a,{item:!0,alignItems:"flex-start",lg:8,children:Object(s.jsxs)(Y.a,{style:Ce,children:[this.state.bio," "]})})]})}),Object(s.jsx)(G.a,{item:!0,justify:"space-between",lg:5,xs:10,md:8,children:this.state.posts&&this.state.posts.map((function(e){return console.log(e),Object(s.jsx)(xe,{data:e})}))})]}),Object(s.jsx)("hr",{})]})})}}]),a}(n.Component),ke=Object(f.b)((function(e){return{isLogged:e.user.isLogged,userName:e.user.userName,imageUrl:e.user.imageUrl}}))(Se),Te=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)(i.a.Fragment,{children:Object(s.jsxs)(C.d,{children:[Object(s.jsx)(C.b,{path:"/medfrontend/user/profile/:id",component:ke}),Object(s.jsx)(C.b,{path:"/medfrontend/user/settings",children:Object(s.jsx)(re,{})}),Object(s.jsx)(C.b,{path:"/medfrontend/user/articles"})]})})}}]),a}(n.Component),Ne=a(135),Le={fontWeight:"700",fontSize:"20px",color:"#333"},We={color:"gray",fontSize:"16px"};function Re(e,t){return e<t?e:t}var Fe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={date:s.props.data.updatedAt.substring(0,10),img:"",description:s.props.data.description.substring(0,Re(100,s.props.data.description.length))+"...",title:s.props.data.title.substring(0,Re(30,s.props.data.title.length))+"."},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(s.jsxs)(G.a,{item:!0,className:e.root,children:[Object(s.jsx)("hr",{}),Object(s.jsx)(Ne.a,{className:e.paper,children:Object(s.jsxs)(G.a,{container:!0,children:[Object(s.jsx)(G.a,{item:!0,xs:12,md:8,lg:8,container:!0,children:Object(s.jsx)(G.a,{item:!0,xs:!0,container:!0,direction:"column",children:Object(s.jsxs)(G.a,{item:!0,xs:10,md:8,lg:8,children:[Object(s.jsx)(R.b,{to:"/medfrontend/post/"+this.props.data._id,style:Le,children:Object(s.jsxs)(Y.a,{style:{fontSize:"20px",fontWeight:"500"},gutterBottom:!0,noWrap:!0,children:[this.state.title," "]})}),Object(s.jsxs)("p",{variant:"body2",color:"textSecondary",noWrap:!0,style:We,children:[this.state.description," "]}),Object(s.jsx)(Y.a,{variant:"body2",style:{cursor:"pointer",fontSize:"13px",marginTop:"auto"},children:this.state.date})]})})}),Object(s.jsx)(G.a,{item:!0,xs:0,md:4,lg:4,className:"d-none d-lg-block d-md-block",children:Object(s.jsx)(Oe.a,{className:e.image,children:Object(s.jsx)("img",{className:e.img,alt:"Pic of the post",src:this.props.data.imageUrl})})})]})}),Object(s.jsx)("hr",{})]})}}]),a}(n.Component),ze=Object(de.a)((function(e){return{root:{flexGrow:1},paper:{paddingLeft:e.spacing(2),margin:"0em",boxShadow:"none"},image:{width:"150px",height:"150px"},img:{margin:"0em",display:"block",maxWidth:"100%",maxHeight:"100%"}}}))(Fe),Ie=a(267),Ue={fontSize:"15px",fontWeight:"bold",marginLeft:"1em"},Pe={fontFamily:"charter, Georgia, Cambria, 'Times New Roman', Times, serif",color:"black"},Ee={fontSize:"15px",fontWeight:"bold",marginLeft:"2em",position:"fixed"},Be=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;Object(c.a)(this,a);var n="#FFFF";return!0!==(s=t.call(this,e)).props.isLogged&&(n="#FFC017"),s.state={posts:[],color:n},s.fetchPosts(0),s}return Object(l.a)(a,[{key:"fetchPosts",value:function(){var e=Object(k.a)(S.a.mark((function e(t){var a,s=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},e.next=3,p.a.get("https://evening-anchorage-15734.herokuapp.com/api/article/list/"+t,{headers:a}).then((function(e){console.log(e),s.setState({posts:e.data.articles})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchPosts();var e="#FFFF";!0!==this.props.isLogged&&(e="#FFC017"),this.setState({color:e})}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(A.a,{position:"static",style:{backgroundColor:this.state.color,paddingBottom:"3.5em",flexGrow:"1",boxShadow:"none",borderBottom:"1px solid black",paddingTop:"3em",borderTop:"1px solid black"},children:Object(s.jsx)(G.a,{container:!0,xs:12,md:12,lg:12,children:Object(s.jsxs)(D.a,{style:{flexGrow:1,paddingTop:"3.5em"},children:[Object(s.jsx)(G.a,{item:!0,xs:1,md:2,lg:2}),Object(s.jsxs)(G.a,{item:!0,xs:8,md:3,lg:3,children:[Object(s.jsx)(Y.a,{variant:"h1",style:Pe,children:"Explore new perspectives"}),Object(s.jsx)("br",{}),Object(s.jsx)(Y.a,{style:{marginTop:"1em",color:"black",fontSize:"20px"},children:"Read and share ideas from independent voices, world-class publications, and experts from around the globe. Everyone's welcome."})]}),Object(s.jsx)(G.a,{item:!0,xs:0,md:2,lg:2})]})})}),Object(s.jsxs)(G.a,{container:!0,style:{marginTop:"3.5em"},children:[Object(s.jsx)(G.a,{item:!0,xs:1,md:2,lg:2}),Object(s.jsxs)(G.a,{item:!0,xs:10,md:10,lg:5,children:[Object(s.jsx)("p",{style:Ue,children:"RECENT CONTENT ON MEDBOOK"}),Object(s.jsx)("br",{}),this.state.posts.map((function(e){return console.log(e.title),Object(s.jsx)(ze,{data:e})}))]}),Object(s.jsx)(G.a,{item:!0,xs:0,md:0,lg:2,display:{xs:"none",md:"none",lg:"block"},children:Object(s.jsx)(Ie.a,{style:{borderLeft:"1px solid lightgray"},children:Object(s.jsx)("p",{style:Ee,children:"READ WHAT MATTERS TO YOU"})})}),Object(s.jsx)(G.a,{item:!0,xs:2,md:2,lg:2})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!0===e.isLogged?{posts:t.posts,color:"#FFF"}:{posts:t.posts,color:"#FFC017"}}}]),a}(n.Component),Ae=Object(f.b)((function(e){return{isLogged:e.user.isLogged,userName:e.user.userName}}))(Be),Ge=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)(Ae,{})})}}]),a}(n.Component),De=a(132),Ye=a(133),He=a.n(Ye),Me=a(202),Je={borderTopWidth:"0em",borderRightWidth:"0em",borderLeftWidth:"0em",boxShadow:"none",borderRadius:"1px",backgroundColor:"white",fontSize:"22px",fontFamily:'fell, Georgia, Cambria, "Times New Roman", Times, serif'},_e={paddingTop:"1em",paddingBottom:"1em",borderTopWidth:"0em",borderRightWidth:"0em",borderLeftWidth:"0em",boxShadow:"none",backgroundColor:"white",fontFamily:'fell, Georgia, Cambria, "Times New Roman", Times, serif',fontSize:"3.5em",fontStyle:"normal",lineHeight:"1.1em"},Ve={borderTopWidth:"0em",borderRightWidth:"0em",borderLeftWidth:"0em",boxShadow:"none",borderRadius:"1px",backgroundColor:"white",textAlign:"right",fontFamily:'fell, Georgia, Cambria, "Times New Roman", Times, serif',fontSize:"20px"},qe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={userName:"",isLogged:!1,errortext:"",text:"",heading:"",image:""},s.onChange=s.onChange.bind(Object(m.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(m.a)(s)),s}return Object(l.a)(a,[{key:"setText",value:function(e){this.setState({text:e})}},{key:"onChange",value:function(e){var t=e.target,a=t.value,s=t.name;this.setState(Object(j.a)({},s,a))}},{key:"handleSubmit",value:function(){var e=Object(k.a)(S.a.mark((function e(t){var a,s,n,i=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("Submit"),Me(this.state.image)){e.next=4;break}return e.abrupt("return",this.setState({errortext:"Please enter a valid image link"}));case 4:return a=JSON.stringify({published:!0,writerid:this.props.userId,claps:0,imageUrl:this.state.image,body:this.state.text,description:this.state.description,title:this.state.heading,clappersIds:[],editorsids:[this.props.userId],tagslist:[]}),s=sessionStorage.getItem("medtoken"),n={"Content-Type":"application/json","auth-token":s},e.next=9,p.a.post("https://evening-anchorage-15734.herokuapp.com/api/article/create",a,{headers:n}).then((function(e){if(e.data.error)return console.log("ERROR"),i.setState({errortext:e.data.msg});console.log(e),i.setState({succtext:"Updated",errortext:""})})).catch((function(e){console.log(e)}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.isLogged?Object(s.jsx)("div",{style:{paddingTop:"7em",marginLeft:"1em"},children:Object(s.jsxs)(q.a,{style:{marginBottom:"1em"},children:[Object(s.jsx)(N.a,{xs:12,md:12,lg:2,className:"d-none d-lg-block",children:Object(s.jsx)(q.a,{style:{marginTop:"1em",position:"fixed"},children:Object(s.jsx)("br",{})})}),Object(s.jsxs)(N.a,{xs:11,md:11,lg:7,children:[Object(s.jsx)("p",{style:{color:"green"},children:this.state.succtext}),Object(s.jsx)("p",{style:{color:"red"},children:this.state.errortext}),Object(s.jsxs)(u.a,{onSubmit:this.handleSubmit,children:[Object(s.jsx)(b.a,{type:"submit",children:"Publish"}),Object(s.jsx)("hr",{}),Object(s.jsx)(u.a.Control,{className:"justify-content-md-center",placeholder:"Title",type:"text",name:"heading",style:_e,size:"lg",onChange:this.onChange,value:this.state.heading}),Object(s.jsx)("hr",{}),Object(s.jsx)(u.a.Control,{className:"justify-content-md-center",placeholder:"Post description",type:"text",name:"description",style:Ve,size:"lg",onChange:this.onChange,value:this.state.description}),Object(s.jsx)("div",{style:{margin:"1em"}}),Object(s.jsx)("div",{style:Je,children:Object(s.jsx)(De.CKEditor,{editor:He.a,data:this.state.text,config:{placeholder:"Enter body here",toolbar:["heading","|","bold","italic","blockQuote","link","numberedList","bulletedList","insertTable","mergeTableCells","|","undo","redo"],styles:["full","side","alignLeft","alignCenter","alignRight"]},onChange:function(t,a){var s=a.getData();e.setText(s)},onError:function(e,t){console.log(e),console.log(t)}})}),Object(s.jsx)(u.a.Control,{className:"justify-content-md-center",placeholder:"Add an image link",type:"text",name:"image",style:Ve,size:"lg",onChange:this.onChange,value:this.state.image})]})]})]})}):Object(s.jsx)(C.a,{to:"/medfrontend/auth/login"})}}]),a}(n.Component),Ke=Object(f.b)((function(e){return{isLogged:e.user.isLogged,userName:e.user.userName,userId:e.user.userId,email:e.user.email}}),{updateUser:O})(qe),Qe=(a(218),a(270)),Xe="https://evening-anchorage-15734.herokuapp.com",Ze="https://miro.medium.com/max/2400/1*9M0oeCEgOsovOMz2snw5iw.png",$e={borderTopWidth:"0em",borderRightWidth:"0em",borderLeftWidth:"0em",boxShadow:"none",backgroundColor:"white",fontFamily:'fell, Georgia, Cambria, "Times New Roman", Times, serif',fontSize:"3.5em",fontStyle:"normal"},et={paddingTop:"7em"},tt={fontSize:"1.2em",fontWeight:"bold"},at={color:"gray",paddingRight:"0em"},st={backgroundColor:"lightgray",textAlign:"center",color:"gray",fontSize:"90%",paddingTop:"0.2em",paddingBottom:"0.20em",borderRadius:"0.2em",margin:"1em"},nt={fontFamily:"charter, Georgia, Cambria, 'Times New Roman', Times, serif",fontSize:"21px",lineHeight:"1.5em"},it={opacity:"30%",width:"70px"},rt={color:"gray"},ot={borderTopWidth:"0em",borderRightWidth:"0em",borderLeftWidth:"0em",boxShadow:"none",borderRadius:"1px",backgroundColor:"white",fontFamily:'fell, Georgia, Cambria, "Times New Roman", Times, serif',fontSize:"20px",marginTop:"0.5em",marginBottom:"0.5em",marginRight:"0.5em"},ct=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={body:"",title:"",description:"",date:"",taglist:["Hello","Shallow","Meow","Sheow"],clappable:!1,claped:!1},s.getData(),s.handleClap=s.handleClap.bind(Object(m.a)(s)),s.updateClaps=s.updateClaps.bind(Object(m.a)(s)),s}return Object(l.a)(a,[{key:"handleClap",value:function(){var e=Object(k.a)(S.a.mark((function e(){var t,a,s=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.props.isLogged){e.next=4;break}alert("Please login"),e.next=8;break;case 4:return t=sessionStorage.getItem("medtoken"),a={"Content-Type":"application/json","auth-token":t},e.next=8,p.a.post(Xe+"/api/article/clap/"+this.props.match.params.id,null,{headers:a}).then((function(e){if(e.data.error)return console.log(e),s.setState({errortext:e.data.msg});console.log(e),s.setState({succtext:"Updated",errortext:""}),s.updateClaps()})).catch((function(e){console.log(e)}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateClaps",value:function(){var e=Object(k.a)(S.a.mark((function e(){var t,a,s=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("medtoken"),a={"Content-Type":"application/json","auth-token":t},e.next=4,p.a.get(Xe+"/api/article/getclaps/"+this.props.match.params.id,{headers:a}).then((function(e){s.setState({claps:e.data.claps})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(k.a)(S.a.mark((function e(){var t,a=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},e.next=3,p.a.get(Xe+"/api/article/"+this.props.match.params.id,{headers:t}).then((function(e){console.log("Called"),console.log(e.data);var t=e.data.article.updatedAt;t=t.substring(0,10);var s="",n="",i="",r="";!1===e.data.publication.exists?(s=e.data.writer.firstname,n=e.data.prof.about,r="/medfrontend/user/profile/"+(i=e.data.article.writerid)):(s=e.data.publication.name,n=e.data.publication.description,r="/medfrontend/publication/"+(i=e.data.publication.pid)),a.setState({body:e.data.article.body,title:e.data.article.title,description:e.data.article.description,date:t,name:e.data.writer.firstname,writerid:e.data.article.writerid,image:e.data.prof.image,claps:e.data.article.clapersIds.length,pname:s,pid:i,plink:r,pdesc:n})})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsxs)("div",{style:et,children:[Object(s.jsxs)(G.a,{container:!0,children:[Object(s.jsx)(G.a,{item:!0,xs:1,lg:4,md:4}),Object(s.jsx)(G.a,{item:!0,direction:"row",justify:"flex-left",alignItems:"center",style:$e,md:5,lg:5,xs:10,children:this.state.title})]}),Object(s.jsxs)(Qe.a,{style:ot,children:[Object(s.jsx)("hr",{}),Object(s.jsxs)(G.a,{container:!0,children:[Object(s.jsx)(G.a,{item:!0,xs:1,lg:4,md:4}),Object(s.jsx)(G.a,{item:!0,direction:"row",justify:"flex-left",alignItems:"center",style:ot,md:5,lg:5,xs:10,children:this.state.description}),Object(s.jsx)(G.a,{item:!0,md:1,xs:1,lg:1})]}),Object(s.jsx)("hr",{})]}),Object(s.jsxs)(Qe.a,{style:{paddingBottom:"1em"},children:[Object(s.jsx)(G.a,{container:!0,xs:1,md:2,lg:2}),Object(s.jsx)(G.a,{container:!0,xs:10,md:8,lg:8,children:Object(s.jsxs)(G.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(s.jsx)(G.a,{container:!0,xs:1,md:4,lg:4}),Object(s.jsxs)(G.a,{container:!0,xs:10,md:4,lg:4,children:[Object(s.jsxs)(G.a,{xs:4,lg:3,md:3,children:[" ",Object(s.jsx)("img",{src:this.state.image,alt:"Writer pic",roundedCircle:!0,fluid:!0,style:{width:"50px",height:"50px",borderRadius:"50%"}})]}),Object(s.jsxs)(G.a,{xs:4,md:4,lg:4,children:[Object(s.jsx)(R.b,{to:"/medfrontend/user/profile/"+this.state.writerid,style:{color:"black"},children:this.state.name})," ",Object(s.jsx)("br",{}),Object(s.jsx)("p",{style:rt,children:this.state.date})]})]})]})})]}),Object(s.jsxs)(G.a,{container:!0,children:[Object(s.jsx)(G.a,{item:!0,lg:2,md:1,xs:1}),Object(s.jsx)(G.a,{item:!0,lg:2,md:2,xs:12,className:"d-none d-lg-block",children:Object(s.jsxs)(G.a,{item:!0,direction:"column",style:{paddingLeft:"7em"},children:[Object(s.jsx)(G.a,{item:!0,style:{marginBottom:"2em"},lg:2,children:Object(s.jsx)("p",{style:tt,children:Object(s.jsx)(R.b,{to:this.state.plink,style:{color:"black"},children:this.state.pname})})}),Object(s.jsx)(G.a,{item:!0,alignItems:"flex-start",lg:10,children:Object(s.jsxs)("p",{style:at,children:[" ",this.state.pdesc,Object(s.jsx)("hr",{})]})}),Object(s.jsxs)(G.a,{item:!0,alignItems:"flex-start",lg:10,className:"clap",children:[Object(s.jsx)("img",{src:Ze,alt:"Claps:",onClick:this.handleClap,style:it}),this.state.claps]})]})}),Object(s.jsx)(G.a,{item:!0,lg:5,md:8,xs:10,children:Object(s.jsx)("p",{className:"ck-content",style:nt,children:le()(this.state.body)})})]}),Object(s.jsxs)(G.a,{container:!0,children:[Object(s.jsx)(G.a,{item:!0,lg:2,md:2,xs:2}),Object(s.jsx)(G.a,{item:!0,lg:2}),this.state.taglist.map((function(e){return Object(s.jsx)(G.a,{xs:1,md:1,lg:1,children:Object(s.jsx)("div",{style:st,children:"list"})})}))]}),Object(s.jsx)("hr",{}),Object(s.jsxs)(G.a,{container:!0,children:[Object(s.jsx)(G.a,{item:!0,lg:4,md:4,xs:4}),Object(s.jsxs)(G.a,{item:!0,xs:2,md:2,lg:1,direction:"row",justify:"center",alignItems:"center",className:"clap",spacing:0,stype:{padding:0,margin:0},children:[Object(s.jsx)("img",{src:Ze,alt:"Claps",onClick:this.handleClap,style:it,fluid:!0}),this.state.claps]})]}),Object(s.jsx)("hr",{}),Object(s.jsx)("hr",{})]})}}]),a}(n.Component),lt=Object(f.b)((function(e){return{isLogged:e.user.isLogged,userId:e.user.userId}}))(ct),dt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)(i.a.Fragment,{children:Object(s.jsxs)(C.d,{children:[Object(s.jsx)(C.b,{path:"/medfrontend/post/new",children:Object(s.jsx)(Ke,{})}),Object(s.jsx)(C.b,{path:"/medfrontend/post/:id",component:lt})]})})}}]),a}(n.Component);var ht=function(){return Object(s.jsx)(f.a,{store:te,children:Object(s.jsxs)(R.a,{children:[Object(s.jsx)(V,{}),Object(s.jsxs)(C.d,{children:[Object(s.jsx)(C.b,{path:"/medfrontend/auth",children:Object(s.jsxs)(G.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[" ",Object(s.jsx)(L,{})]})}),Object(s.jsx)(C.b,{path:"/medfrontend/user",children:Object(s.jsx)(q.a,{className:"justify-content-md-center",children:Object(s.jsx)(Te,{})})}),Object(s.jsx)(C.b,{path:"/medfrontend/post",children:Object(s.jsx)(dt,{})}),Object(s.jsx)(C.b,{exact:!0,path:"/medfrontend/",children:Object(s.jsx)(Ge,{})})]})]})})};a(219);a(220).config(),o.a.render(Object(s.jsx)(ht,{}),document.getElementById("root"))}},[[222,1,2]]]);
//# sourceMappingURL=main.ef47a077.chunk.js.map