(this.webpackJsonpmedfrontend=this.webpackJsonpmedfrontend||[]).push([[0],{107:function(e,t,s){},218:function(e,t,s){},222:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(0),i=s.n(n),r=s(19),o=s.n(r),c=s(14),l=s(15),d=s(17),h=s(16),j=s(37),m=s(23),b=s(28),g=s(24),p=s.n(g),u=s(10),x="UPDATE_USER",O=function(e){return function(t){var s=sessionStorage.getItem("medtoken");if(console.log("Updating user"),null!=s){var a={Accept:"application/json","Content-Type":"application/json;charset=UTF-8","auth-token":s};p.a.get("https://evening-anchorage-15734.herokuapp.com/api/p/profile",{headers:a}).then((function(s){console.log(s.data),s.data.user2&&s.data.user||console.log("Big error"),e={isLogged:!0,userName:s.data.user2.firstname,userId:s.data.user.userid,email:s.data.user2.email,name:s.data.user2.firstname,imageUrl:s.data.user.image},console.log(e),t({type:x,payload:e})}))}}},f=s(29),y=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={email:"",password:"",show_input:!1,isLogged:!1,errortext:""},a.onChange=a.onChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"onChange",value:function(e){var t=e.target,s=t.value,a=t.name;this.setState(Object(j.a)({},a,s))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s=JSON.stringify({email:this.state.email,password:this.state.password});p.a.post("https://evening-anchorage-15734.herokuapp.com/api/user/login",s,{headers:{"Content-Type":"application/json"}}).then((function(e){e.data.error?t.setState({errortext:e.data.msg}):(sessionStorage.setItem("medtoken",e.data.msg.token),t.props.updateUser({isLogged:!0,userName:"Someone"}),t.setState({isLogged:!0}))}))}},{key:"render",value:function(){return this.props.isLogged?Object(a.jsx)("div",{children:"Logged In Already"}):Object(a.jsxs)(u.a,{onSubmit:this.handleSubmit,children:[" ",Object(a.jsx)(u.a.Text,{className:"text-muted",children:this.state.errortext}),Object(a.jsx)("h1",{children:"Login "})," ",Object(a.jsx)("br",{}),Object(a.jsx)(u.a.Label,{children:"Email: "})," ",Object(a.jsx)("br",{}),Object(a.jsx)(u.a.Control,{type:"text",name:"email",onChange:this.onChange,value:this.state.email}),Object(a.jsx)("br",{}),Object(a.jsx)(u.a.Label,{children:"Password: "})," ",Object(a.jsx)("br",{}),Object(a.jsx)(u.a.Control,{type:this.state.show_input?"text":"password",name:"password",onChange:this.onChange,value:this.state.password}),Object(a.jsx)("br",{}),Object(a.jsx)(b.a,{type:"submit",children:"Submit"})]})}}]),s}(n.Component),v=Object(f.b)((function(e){return{isLogged:e.user.isLogged,userName:e.user.userName}}),{updateUser:O})(y),w=s(26),C=s(21),S=s.n(C),k=s(31),T=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;Object(c.a)(this,s),(a=t.call(this,e)).state={email:"",password:"",firstname:"",lastname:"",username:"",show_input:!1,isLogged:!1,isRegistered:!1,errorText:""};var n=sessionStorage.getItem("medtoken");if(null!=n){var i={Accept:"application/json","Content-Type":"application/json;charset=UTF-8","auth-token":n};p.a.get("https://evening-anchorage-15734.herokuapp.com/api/p/profile",{headers:i}).then((function(e){a.setState({isLogged:!0})}))}return a.onChange=a.onChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"onChange",value:function(e){var t=e.target,s=t.value,a=t.name;this.setState(Object(j.a)({},a,s))}},{key:"handleSubmit",value:function(){var e=Object(k.a)(S.a.mark((function e(t){var s,a,n=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=JSON.stringify({firstname:this.state.firstname,lastname:this.state.lastname,username:this.state.username,email:this.state.email,password:this.state.password}),a={"Content-Type":"application/json"},e.next=5,p.a.post("https://evening-anchorage-15734.herokuapp.com/api/user/register",s,{headers:a}).then((function(e){e.data.error?n.setState({errorText:e.data.msg}):n.setState({isRegistered:!0})})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isRegistered||this.state.isLogged?Object(a.jsx)("div",{children:"Registered user"}):Object(a.jsxs)("div",{children:[Object(a.jsx)(u.a.Text,{className:"text-muted",children:this.state.errorText}),Object(a.jsxs)(u.a,{onSubmit:this.handleSubmit,children:[" ",Object(a.jsx)(u.a.Text,{className:"text-muted",children:this.state.errortext}),Object(a.jsx)("h2",{children:"Register "})," ",Object(a.jsx)("br",{}),Object(a.jsx)(u.a.Label,{children:"First Name: "})," ",Object(a.jsx)("br",{}),Object(a.jsx)(u.a.Control,{type:"text",name:"firstname",onChange:this.onChange,value:this.state.firstname})," ",Object(a.jsx)("br",{}),Object(a.jsx)(u.a.Label,{children:"Last Name: "})," ",Object(a.jsx)("br",{}),Object(a.jsx)(u.a.Control,{type:"text",name:"lastname",onChange:this.onChange,value:this.state.lastname})," ",Object(a.jsx)("br",{}),Object(a.jsx)(u.a.Label,{children:"User Name: "})," ",Object(a.jsx)("br",{}),Object(a.jsx)(u.a.Control,{type:"text",name:"username",onChange:this.onChange,value:this.state.username})," ",Object(a.jsx)("br",{}),Object(a.jsx)(u.a.Label,{children:"Email: "})," ",Object(a.jsx)("br",{}),Object(a.jsx)(u.a.Control,{type:"text",name:"email",onChange:this.onChange,value:this.state.email}),Object(a.jsx)("br",{}),Object(a.jsx)(u.a.Label,{children:"Password: "})," ",Object(a.jsx)("br",{}),Object(a.jsx)(u.a.Control,{type:this.state.show_input?"text":"password",name:"password",onChange:this.onChange,value:this.state.password}),Object(a.jsx)("br",{}),Object(a.jsx)(b.a,{type:"submit",children:"Submit"})]})]})}}]),s}(n.Component),N=s(11),L=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)(w.d,{children:[Object(a.jsx)(w.b,{path:"/medfrontend/auth/login",children:Object(a.jsx)(N.a,{children:Object(a.jsx)(v,{})})}),Object(a.jsx)(w.b,{path:"/medfrontend/auth/register",children:Object(a.jsx)(N.a,{children:Object(a.jsx)(T,{})})})]})})}}]),s}(n.Component),W=s(134),R=s(22),F=s(62),z=s(271),I=s(255),U=s(256),P=s(267),E=s(257),B=s(258),A=s(259),G=s(260),D=s(261),H=s(224),Y={fontFamily:"charter, Georgia, Cambria, 'Times New Roman', Times, serif",textTransform:"capitalize"},M=44,J="https://evening-anchorage-15734.herokuapp.com",_=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={isLogged:a.props.isLogged,userName:"",imageUrl:"",open:!1,openreg:!1,email:"",password:"",errortext:"",firstname:"",lastname:"",username:"",isRegistered:!1},a.handleClose=a.handleClose.bind(Object(m.a)(a)),a.handleSubmitLogin=a.handleSubmitLogin.bind(Object(m.a)(a)),a.handleOpen=a.handleOpen.bind(Object(m.a)(a)),a.props.updateUser(),a.logout=a.logout.bind(Object(m.a)(a)),a.onChange=a.onChange.bind(Object(m.a)(a)),a.handleCloseReg=a.handleCloseReg.bind(Object(m.a)(a)),a.handleOpenReg=a.handleOpenReg.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"onChange",value:function(e){console.log("Changing");var t=e.target,s=t.value,a=t.name;console.log(a),console.log(s),this.setState(Object(j.a)({},a,s))}},{key:"handleSubmit",value:function(){var e=Object(k.a)(S.a.mark((function e(){var t,s,a=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("YOYO"),t=JSON.stringify({firstname:this.state.firstname,lastname:this.state.lastname,username:this.state.username,email:this.state.email,password:this.state.password}),s={"Content-Type":"application/json"},e.next=5,p.a.post(J+"/api/user/register",t,{headers:s}).then((function(e){e.data.error?(a.setState({errortext:e.data.msg}),console.log(e.data.error)):(a.setState({isRegistered:!0}),a.handleCloseReg(),a.handleOpen())})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmitLogin",value:function(){var e=this,t=JSON.stringify({email:this.state.email,password:this.state.password});p.a.post(J+"/api/user/login",t,{headers:{"Content-Type":"application/json"}}).then((function(t){t.data.error?(e.setState({errortext:t.data.msg}),console.log(t.data.error)):(sessionStorage.setItem("medtoken",t.data.msg.token),e.props.updateUser({isLogged:!0,userName:"Someone"}),e.setState({isLogged:!0}),e.handleClose())})).catch((function(e){console.log(e)}))}},{key:"handleCloseReg",value:function(){console.log("YOYO"),this.setState({openreg:!1}),console.log(this.state.open)}},{key:"handleOpenReg",value:function(){this.setState({openreg:!0})}},{key:"handleClose",value:function(){console.log("YOYO"),this.setState({open:!1}),console.log(this.state.open)}},{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"logout",value:function(){console.log("Logout try"),this.props.logoutUser(),this.setState({isLogged:!1,userName:""})}},{key:"render",value:function(){return this.props.isLogged?Object(a.jsx)("div",{children:Object(a.jsx)(A.a,{position:"static",style:{backgroundColor:"#FFFF",boxShadow:"none"},children:Object(a.jsx)(G.a,{container:!0,xs:12,md:12,lg:12,style:{position:"fixed",backgroundColor:"inherit",display:"block",zIndex:"100",paddingTop:"0.5em",paddingBottom:"0.5em",borderBottom:"1px solid black"},children:Object(a.jsxs)(D.a,{style:{flexGrow:1},children:[Object(a.jsx)(G.a,{item:!0,xs:2,md:2,lg:2}),Object(a.jsxs)(G.a,{item:!0,xs:2,md:2,lg:2,children:[" ",Object(a.jsx)(H.a,{variant:"h3",style:{color:"black"},children:Object(a.jsx)(R.b,{exact:!0,to:"/medfrontend/",style:{fontWeight:"bold",color:"black"},children:"MedBook"})})]}),Object(a.jsx)(G.a,{item:!0,xs:4,md:4,lg:4}),Object(a.jsx)(W.a,{className:"ml-auto",children:Object(a.jsxs)(F.a,{title:Object(a.jsx)("img",{src:this.props.imageUrl,style:{width:"40px",height:"40px",borderRadius:"50%"},alt:"Your profile pic"}),alignRight:!0,id:"dropdown-menu-align-right",flip:!0,children:[Object(a.jsx)(F.a.Item,{children:Object(a.jsxs)(R.b,{to:"/medfrontend/user/profile/"+this.props.userId,children:["Welcome ",this.props.userName]})}),Object(a.jsx)(F.a.Item,{children:Object(a.jsx)(R.b,{to:"/medfrontend/user/settings",children:"Settings"})}),Object(a.jsx)(F.a.Item,{children:Object(a.jsx)(R.b,{to:"/medfrontend/post/new",children:"New Post"})}),Object(a.jsx)(F.a.Item,{children:Object(a.jsx)(R.b,{onClick:this.logout,children:"Logout"})})]})}),Object(a.jsx)("hr",{})]})})})}):Object(a.jsxs)("div",{children:[Object(a.jsxs)(z.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title","aria-describedby":"simple-modal-description",fullWidth:!0,children:[Object(a.jsx)(I.a,{id:"form-dialog-title",style:{paddingBottom:0},children:Object(a.jsx)("p",{style:{fontSize:"3em",fontFamily:"charter, Georgia, Cambria, 'Times New Roman', Times, serif"},children:"Sign in"})}),Object(a.jsxs)(U.a,{children:[Object(a.jsx)("p",{style:{fontSize:"10px",color:"red"},children:this.state.errortext}),Object(a.jsx)(P.a,{name:"email",defaultValue:"Email",value:this.state.email,onChange:this.onChange,fullWidth:!0,label:"Email",size:"big",inputProps:{style:{height:M,fontSize:15}}}),Object(a.jsx)("br",{}),Object(a.jsx)(P.a,{name:"password",defaultValue:"Password",label:"Password",type:"password",value:this.state.password,onChange:this.onChange,size:"large",fullWidth:!0,inputProps:{style:{height:M,fontSize:15}}})]}),Object(a.jsxs)(E.a,{children:[Object(a.jsx)(B.a,{onClick:this.handleClose,style:{fontSize:17},color:"primary",children:"Cancel"}),Object(a.jsx)(B.a,{onClick:this.handleSubmitLogin,style:{fontSize:17},color:"primary",children:"Sign in"})]})]}),Object(a.jsxs)(z.a,{open:this.state.openreg,onClose:this.handleCloseReg,"aria-labelledby":"form-dialog-title","aria-describedby":"simple-modal-description",fullWidth:!0,children:[Object(a.jsx)(I.a,{id:"form-dialog-title",style:{paddingBottom:0},children:Object(a.jsx)("p",{style:{fontSize:"3em",fontFamily:"charter, Georgia, Cambria, 'Times New Roman', Times, serif"},children:"Sign Up"})}),Object(a.jsxs)(U.a,{children:[Object(a.jsx)("p",{style:{fontSize:"10px",color:"red"},children:this.state.errortext}),Object(a.jsx)(P.a,{name:"firstname",defaultValue:"First Name",fullWidth:!0,value:this.state.firstname,onChange:this.onChange,label:"First Name",inputProps:{style:{height:M,fontSize:15}}}),Object(a.jsx)(P.a,{name:"lastname",defaultValue:"Last Name",fullWidth:!0,value:this.state.lastname,onChange:this.onChange,label:"Last Name",inputProps:{style:{height:M,fontSize:15}}}),Object(a.jsx)(P.a,{name:"username",defaultValue:"User Name",fullWidth:!0,value:this.state.username,onChange:this.onChange,label:"User Name",inputProps:{style:{height:M,fontSize:15}}}),Object(a.jsx)("br",{}),Object(a.jsx)(P.a,{name:"email",defaultValue:"Email",value:this.state.email,onChange:this.onChange,fullWidth:!0,label:"Email",size:"big",inputProps:{style:{height:M,fontSize:15}}}),Object(a.jsx)("br",{}),Object(a.jsx)(P.a,{name:"password",defaultValue:"Password",label:"Password",type:"password",value:this.state.password,onChange:this.onChange,size:"large",fullWidth:!0,inputProps:{style:{height:M,fontSize:15}}})]}),Object(a.jsxs)(E.a,{children:[Object(a.jsx)(B.a,{onClick:this.handleCloseReg,style:{fontSize:17},color:"primary",children:"Cancel"}),Object(a.jsx)(B.a,{onClick:this.handleSubmit,style:{fontSize:17},color:"primary",children:"Sign Up"})]})]}),Object(a.jsx)(A.a,{position:"static",style:{backgroundColor:"rgba(255, 192, 23, 0.1)",marginBottom:"0em",boxShadow:"none"},children:Object(a.jsx)(G.a,{container:!0,xs:12,md:12,lg:12,style:{position:"fixed",display:"block",zIndex:"100",paddingTop:"0.5em",paddingBottom:"0.5em",borderBottom:"1px solid black",backgroundColor:"rgba(255, 192, 23, 0.5)"},children:Object(a.jsxs)(D.a,{style:{flexGrow:1,borderColor:"black"},children:[Object(a.jsx)(G.a,{item:!0,xs:2,md:2,lg:2}),Object(a.jsxs)(G.a,{item:!0,xs:2,md:2,lg:2,children:[" ",Object(a.jsx)(H.a,{variant:"h3",style:{color:"black"},children:Object(a.jsx)(R.b,{exact:!0,to:"/medfrontend/",style:{fontWeight:"bold",color:"black"},children:"MedBook"})})]}),Object(a.jsx)(G.a,{item:!0,xs:5,md:5,lg:5}),Object(a.jsx)(G.a,{item:!0,className:"d-none d-lg-block",children:Object(a.jsx)(B.a,{color:"inherit",onClick:this.handleOpen,style:Y,children:Object(a.jsx)(R.b,{exact:!0,style:{fontSize:"2em",color:"black"},children:"Sign in"})})}),Object(a.jsx)(G.a,{item:!0,children:Object(a.jsx)(B.a,{color:"inherit",onClick:this.handleOpenReg,style:Y,children:Object(a.jsx)(R.b,{exact:!0,style:{fontSize:"2em",color:"black"},children:"Sign up"})})}),Object(a.jsx)(G.a,{item:!0,xs:1,md:1,lg:1}),Object(a.jsx)("hr",{})]})})})]})}}]),s}(n.Component),V=Object(f.b)((function(e){return{isLogged:e.user.isLogged,userName:e.user.userName,imageUrl:e.user.imageUrl,userId:e.user.userId}}),{updateUser:O,logoutUser:function(){return function(e){sessionStorage.setItem("medtoken",null),console.log("Updating user"),console.log("Dispatching");e({type:x,payload:{isLogged:!1,userName:"",userId:"",email:"",name:"",imageUrl:""}})}}})(_),q=s(18),K=s(47),Q=s(129),X=s(92),Z={isLogged:!1,userName:"",userId:"",email:"",imageUrl:""},$=Object(K.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return console.log(t.payload.isLogged),Object(X.a)(Object(X.a)({},e),{},{isLogged:t.payload.isLogged,userName:t.payload.userName,userId:t.payload.userId,email:t.payload.email,name:t.payload.name,imageUrl:t.payload.imageUrl});default:return e}}}),ee=[Q.a],te=Object(K.e)($,{},Object(K.d)(K.a.apply(void 0,ee))),se=s(130),ae=s(131),ne=(s(107),{borderTopWidth:"0em",borderRightWidth:"0em",borderLeftWidth:"0em",boxShadow:"none",borderRadius:"1px",padding:"0.1em",backgroundColor:"white"}),ie=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;Object(c.a)(this,s),(a=t.call(this,e)).state={password:"",password2:"",password3:"",togglepassword:!0,togglebio:!0,toggleimg:!0,toggleusername:!0,toggleemail:!0,togglename:!0,show_input:!1,isLogged:!0,firstname:"",lastname:"",username:"",email:"",name:"",bio:"",gender:"",interests:"",followers:"",posts:"",publications:"",img:"",errortext:"",passtext:"",succtext:""},console.log(e.isLogged);var n=sessionStorage.getItem("medtoken");if(null!=n){var i={Accept:"application/json","auth-token":n};p.a.get("https://evening-anchorage-15734.herokuapp.com/api/p/profile",{headers:i}).then((function(e){if(e.data.error)return a.setState({errortext:e.data.error.msg});var t=e.data.user;console.log(e.data);var s="male";s=1===t.gender?1:2,a.setState({password3:e.data.user2.password,firstname:e.data.user2.firstname,lastname:e.data.user2.lastname,username:e.data.user2.username,email:e.data.user2.email,bio:t.about,gender:s,interests:t.interests,followers:t.followerids,posts:t.postids,publications:t.publicationids,img:t.image,errortext:""})}))}return a.onChange=a.onChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"onChange",value:function(){var e=Object(k.a)(S.a.mark((function e(t){var s,a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.target,a=s.value,n=s.name,e.next=5,this.setState(Object(j.a)({},n,a));case 5:"password"!==n&&"password2"!==n||(this.state.password!==this.state.password2?(console.log(this.state.password),console.log(this.state.password2),this.setState({passtext:"Passwords do not match."})):this.state.password.length<8?this.setState({passtext:"Password length must more then 8"}):(this.setState({password3:a}),this.setState({passtext:""})));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(k.a)(S.a.mark((function e(t){var s,a,n,i=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("Submit clicked"),0!==this.state.firstname.length){e.next=7;break}return this.setState({errortext:"First name can not be empty",succtext:""}),e.abrupt("return");case 7:if(0!==this.state.lastname.length){e.next=12;break}return this.setState({errortext:"Last name can not be empty",succtext:""}),e.abrupt("return");case 12:if(0!==this.state.username.length){e.next=17;break}return this.setState({errortext:"User name can not be empty",succtext:""}),e.abrupt("return");case 17:if(0!==this.state.email.length){e.next=20;break}return this.setState({errortext:"Email name can not be empty",succtext:""}),e.abrupt("return");case 20:return s=JSON.stringify({email:this.state.email,password:this.state.password3,username:this.state.username,lastname:this.state.lastname,firstname:this.state.firstname,about:this.state.bio,image:this.state.img,gender:this.state.gender,country:1,interests:[]}),a=sessionStorage.getItem("medtoken"),n={"Content-Type":"application/json","auth-token":a},e.next=25,p.a.post("https://evening-anchorage-15734.herokuapp.com/api/p/profile",s,{headers:n}).then((function(e){e.data.error?console.log(e):(console.log(e),i.setState({succtext:"Updated",errortext:""}))})).catch((function(e){console.log(e)}));case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.isLogged?Object(a.jsx)(G.a,{xs:8,md:8,lg:8,children:Object(a.jsx)(se.a,{fluid:!0,children:Object(a.jsxs)(q.a,{children:[Object(a.jsx)(N.a,{xs:12,md:12,lg:3,className:"d-none d-lg-block",style:{backgroundColor:"white",margin:"0em"},children:Object(a.jsxs)("div",{style:{position:"fixed"},children:[Object(a.jsx)(q.a,{style:{margin:"0.6em",marginTop:"-5%"},children:Object(a.jsx)(u.a.Text,{style:{backgroundColor:"white",color:"red",position:"fixed"},className:"text-center",fluid:!0,children:this.state.errortext})}),Object(a.jsx)(q.a,{style:{margin:"0.6em",marginTop:"-5%"},children:Object(a.jsx)(u.a.Text,{style:{backgroundColor:"white",color:"green",position:"fixed"},className:"text-center",fluid:!0,children:this.state.succtext})}),Object(a.jsx)("hr",{}),Object(a.jsx)(q.a,{style:{margin:"0.6em",marginTop:"0em"},children:Object(a.jsx)("h3",{children:Object(a.jsx)("b",{children:"Settings"})})}),Object(a.jsx)(q.a,{style:{margin:"0.7em",color:"gray"},children:Object(a.jsx)("h4",{children:Object(a.jsx)("b",{children:"Profile"})})}),Object(a.jsx)(q.a,{style:{margin:"0.7em",color:"gray"},children:Object(a.jsx)("h4",{children:Object(a.jsx)("b",{children:"Email Settings"})})}),Object(a.jsx)(q.a,{style:{margin:"0.7em",color:"gray"},children:Object(a.jsx)("h4",{children:Object(a.jsx)("b",{children:"Account"})})}),Object(a.jsx)(q.a,{style:{margin:"0.7em",color:"gray"},children:Object(a.jsx)("h4",{children:Object(a.jsx)("b",{children:"Security"})})}),Object(a.jsx)(q.a,{style:{margin:"0.7em",color:"gray"},children:Object(a.jsx)("h4",{children:Object(a.jsx)("b",{})})}),Object(a.jsx)(q.a,{style:{margin:"0.7em",color:"gray"},children:Object(a.jsx)("h4",{children:Object(a.jsx)("b",{})})}),Object(a.jsx)(q.a,{style:{margin:"0.7em",color:"gray"},children:Object(a.jsx)("h4",{children:Object(a.jsx)("b",{})})}),Object(a.jsx)("hr",{style:{border:"1em",backgroundColor:"black"}})]})}),Object(a.jsxs)(N.a,{style:{backgroundColor:"white"},children:[Object(a.jsx)("h3",{children:Object(a.jsx)("b",{children:"Profile"})}),Object(a.jsx)("hr",{}),Object(a.jsxs)(u.a,{onSubmit:this.handleSubmit,children:[Object(a.jsxs)(q.a,{children:[Object(a.jsxs)(N.a,{xs:8,children:[Object(a.jsx)("h4",{children:Object(a.jsx)("b",{children:"Name"})}),Object(a.jsxs)(q.a,{children:[Object(a.jsx)(N.a,{xs:6,children:Object(a.jsx)(u.a.Control,{type:"name",name:"firstname",onChange:this.onChange,value:this.state.firstname,readOnly:this.state.togglename,style:ne})}),Object(a.jsx)(N.a,{xs:4,children:Object(a.jsx)(u.a.Control,{type:"name",name:"lastname",value:this.state.lastname,onChange:this.onChange,readOnly:this.state.togglename,style:ne})})]}),Object(a.jsx)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:"Your name appears on your Profile page, as your byline, and in your responses. It is a required field."})]}),Object(a.jsx)(N.a,{xs:2}),Object(a.jsx)(N.a,{xs:2,children:Object(a.jsx)(b.a,{variant:"outline-dark",style:{borderWidth:"1px"},onClick:function(){e.setState({togglename:!e.state.togglename})},children:"Edit"})})]}),Object(a.jsxs)(q.a,{style:{marginTop:"6em"},children:[Object(a.jsxs)(N.a,{xs:8,children:[Object(a.jsx)("h4",{children:Object(a.jsx)("b",{children:"Bio"})}),Object(a.jsx)(u.a.Control,{type:"Bio",onChange:this.onChange,name:"bio",readOnly:this.state.togglebio,value:this.state.bio,style:ne}),Object(a.jsx)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:"Your bio appears on your Profile page. Max 160 characters."})]}),Object(a.jsx)(N.a,{xs:2}),Object(a.jsx)(N.a,{xs:2,children:Object(a.jsx)(b.a,{variant:"outline-dark",style:{borderWidth:"1px"},onClick:function(){e.setState({togglebio:!e.state.togglebio})},children:"Edit"})})]}),Object(a.jsxs)(q.a,{style:{marginTop:"6em"},children:[Object(a.jsxs)(N.a,{xs:6,children:[Object(a.jsx)("h4",{children:Object(a.jsx)("b",{children:"Photo"})}),Object(a.jsx)(u.a.Control,{type:"text",name:"img",value:this.state.img,onChange:this.onChange,style:ne,readOnly:this.state.toggleimg}),Object(a.jsxs)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:["Your photo appears on your Profile page and with your stories across Medium.",Object(a.jsx)("br",{}),"Recommended size: Square, at least 1000 pixels per side. File type: JPG, PNG or GIF"]})]}),Object(a.jsx)(N.a,{xs:4,children:Object(a.jsxs)(N.a,{xs:8,children:[Object(a.jsx)("br",{}),Object(a.jsx)(ae.a,{src:this.state.img,style:{width:"80px",height:"80px",borderRadius:"50%"}})]})}),Object(a.jsx)(N.a,{xs:2,children:Object(a.jsx)(b.a,{variant:"outline-dark",style:{borderWidth:"1px"},onClick:function(){e.setState({toggleimg:!e.state.toggleimg})},children:"Edit"})})]}),Object(a.jsxs)(q.a,{style:{marginTop:"6em"},children:[Object(a.jsxs)(N.a,{xs:8,children:[Object(a.jsx)("h4",{children:Object(a.jsx)("b",{children:"Username"})}),Object(a.jsx)(u.a.Control,{type:"Bio",name:"username",value:this.state.username,onChange:this.onChange,style:ne,readOnly:this.state.toggleusername}),Object(a.jsx)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:"Your Profile will be available at this address."})]}),Object(a.jsx)(N.a,{xs:2}),Object(a.jsx)(N.a,{xs:2,children:Object(a.jsx)(b.a,{variant:"outline-dark",style:{borderWidth:"1px"},onClick:function(){e.setState({toggleusername:!e.state.toggleusername})},children:"Edit"})})]}),Object(a.jsx)(q.a,{style:{marginTop:"3em",marginLeft:"0.00em"},children:Object(a.jsx)("h3",{children:Object(a.jsx)("b",{children:"Email Settings"})})}),Object(a.jsx)("hr",{}),Object(a.jsxs)(q.a,{style:{marginTop:"3em"},children:[Object(a.jsxs)(N.a,{xs:8,children:[Object(a.jsx)("h4",{children:Object(a.jsx)("b",{children:"Email"})}),Object(a.jsx)(u.a.Control,{type:"Bio",value:this.state.email,name:"email",onChange:this.onChange,style:ne,readOnly:this.state.toggleemail}),Object(a.jsx)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:"This is your main email that will be used for notifying you."})]}),Object(a.jsx)(N.a,{xs:2}),Object(a.jsx)(N.a,{xs:2,children:Object(a.jsx)(b.a,{variant:"outline-dark",style:{borderWidth:"1px"},onClick:function(){e.setState({toggleemail:!e.state.toggleemail})},children:"Edit"})})]}),Object(a.jsx)(q.a,{style:{marginTop:"3em",marginLeft:"0.00em"},children:Object(a.jsx)("h3",{children:Object(a.jsx)("b",{children:"Account"})})}),Object(a.jsx)("hr",{}),Object(a.jsxs)(q.a,{style:{marginTop:"3em"},children:[Object(a.jsxs)(N.a,{xs:8,children:[Object(a.jsx)("h4",{children:Object(a.jsx)("b",{children:"Followers"})}),this.state.followers.length,Object(a.jsx)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:"Your followers love your posts."})]}),Object(a.jsx)(N.a,{xs:2}),Object(a.jsx)(N.a,{xs:2,children:Object(a.jsx)(b.a,{variant:"outline-dark",style:{borderWidth:"1px"},children:"Show"})})]}),Object(a.jsxs)(q.a,{style:{marginTop:"3em"},children:[Object(a.jsxs)(N.a,{xs:8,children:[Object(a.jsx)("h4",{children:Object(a.jsx)("b",{children:"Password"})}),Object(a.jsx)(u.a.Control,{type:"password",placeholder:"password",value:this.state.password,name:"password",onChange:this.onChange,style:ne,readOnly:this.state.togglepassword}),Object(a.jsxs)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:["Password must be at least of 6 characters ",Object(a.jsx)("br",{})]}),Object(a.jsx)(u.a.Text,{style:{color:"red"},children:this.state.passtext})]}),Object(a.jsx)(N.a,{xs:2}),Object(a.jsx)(N.a,{xs:2}),Object(a.jsxs)(N.a,{xs:8,children:[Object(a.jsx)(u.a.Control,{type:"password",placeholder:"Password",value:this.state.password2,name:"password2",onChange:this.onChange,style:ne,readOnly:this.state.togglepassword}),Object(a.jsx)(u.a.Text,{className:"text-muted",style:{marginTop:"2em",fontWeight:"8px"},children:"Make sure that passwords match."})]}),Object(a.jsx)(N.a,{xs:2}),Object(a.jsx)(N.a,{xs:2,children:Object(a.jsx)(b.a,{variant:"outline-dark",style:{borderWidth:"1px"},onClick:function(){e.setState({togglepassword:!e.state.togglepassword})},children:"Edit"})})]}),Object(a.jsx)(q.a,{style:{padding:"1em"},children:Object(a.jsx)(b.a,{type:"submit",variant:"outline-success",style:{borderWidth:"1px",marginTop:"1em",marginBottom:"1em"},children:"Save"})})]})]})]})})}):Object(a.jsx)(w.a,{to:"/medfrontend/auth/login"})}}]),s}(n.Component),re=Object(f.b)((function(e){return{isLogged:e.user.isLogged,userName:e.user.userName,imageUrl:e.user.imageUrl}}))(ie),oe=s(266),ce=s(269),le=s(80),de=s.n(le),he=s(7),je=s(262),me=s(263),be=s(264),ge=s(265),pe={letterSpacing:"1px",fontWeight:"600",fontSize:"35px",color:"#333",fontFamily:"oswald, sans-serif"},ue={marginTop:"0.5em",fontSize:"20px",color:"#333",fontFamily:"charter, Georgia, Cambria, 'Times New Roman', Times, serif"},xe=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={date:a.props.data.updatedAt.substring(0,10),img:"",body:a.props.data.body.substring(0,500)},a}return Object(l.a)(s,[{key:"render",value:function(){var e=this.props.classes;return Object(a.jsxs)(je.a,{className:e.root,children:[Object(a.jsxs)(me.a,{className:"try",children:[Object(a.jsx)(H.a,{gutterBottom:!0,variant:"h5",component:"h2",className:"try",children:Object(a.jsx)(R.b,{to:"/medfrontend/post/"+this.props.data._id,style:pe,children:Object(a.jsxs)("p",{style:{marginBottom:"0.5em"},children:[" ",this.props.data.title," "]})})}),Object(a.jsx)(be.a,{component:"img",alt:"Post Image",height:"400px",image:this.props.data.imageUrl,title:this.props.data.title}),Object(a.jsx)(H.a,{variant:"body2",color:"textSecondary",component:"p",style:ue,children:de()(this.state.body)})]}),Object(a.jsx)(ge.a,{})]})}}]),s}(n.Component),Oe=Object(he.a)((function(e){return{root:{flexGrow:1,boxShadow:"none"},paper:{padding:e.spacing(2),margin:"auto"},image:{},img:{alignItems:"strech",margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}}))(xe),fe=s(225),ye={paddingTop:"1.0em",fontSize:"64px",fontWeight:"bold",textAlign:"center",fontFamily:"font-family: sohne, 'Helvetica Neue', Helvetica, Arial, sans-serif"},ve={paddingTop:"5em"},we={marginBottom:"3em",color:"gray",textAlign:"center",fontFamily:'sohne, "Helvetica Neue", Helvetica, Arial, sans-serif',fontSize:"17px"},Ce={color:"gray",fontFamily:'sohne, "Helvetica Neue", Helvetica, Arial, sans-serif',fontSize:"14px"},Se={borderRadius:"50%",margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%",height:"130px",width:"130px"},ke=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={password:"",password2:"",password3:"",togglepassword:!0,togglebio:!0,toggleimg:!0,toggleusername:!0,toggleemail:!0,togglename:!0,show_input:!1,isLogged:!1,firstname:"",lastname:"",username:"",email:"",name:"",bio:"",gender:"",interests:"",followers:"",posts:[],publications:"",img:"",errortext:"",passtext:"",succtext:""},a.getData(),a}return Object(l.a)(s,[{key:"getData",value:function(){var e=Object(k.a)(S.a.mark((function e(){var t,s=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Accept:"application/json"},e.next=3,p.a.get("https://evening-anchorage-15734.herokuapp.com/api/p/profile/"+this.props.match.params.id,{headers:t}).then((function(e){if(e.data.error)return s.setState({errortext:e.data.error.msg});var t=e.data.user;console.log(e.data);var a="male";a=1===t.gender?1:2,s.setState({password3:e.data.user2.password,firstname:e.data.user2.firstname,lastname:e.data.user2.lastname,username:e.data.user2.username,email:e.data.user2.email,bio:t.about,gender:a,interests:t.interests,followers:t.followerids,publications:t.publicationids,img:t.image,errortext:"",followerscount:e.data.user.followerids.length})}));case 3:return e.next=5,p.a.get("https://evening-anchorage-15734.herokuapp.com/api/article/user/"+this.props.match.params.id,{headers:t}).then((function(e){console.log(e),s.setState({posts:e.data.articles})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)(G.a,{container:!0,md:7,lg:7,xs:7,style:ve,children:[Object(a.jsx)(G.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(a.jsxs)("p",{style:ye,children:[" ",this.state.firstname," ",this.state.lastname]})}),Object(a.jsx)(G.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(a.jsxs)("p",{style:we,children:[" ",this.state.followerscount," Followers "]})}),Object(a.jsx)(oe.a,{style:{width:"100%"}}),Object(a.jsxs)(G.a,{container:!0,justify:"space-between",children:[Object(a.jsx)(G.a,{container:!0,justify:"space-between",lg:1,style:{marginTop:"2em"},children:Object(a.jsx)(ce.a,{display:{xs:"none",md:"none",lg:"block"},children:Object(a.jsxs)(G.a,{direction:"column",style:{position:"fixed"},children:[Object(a.jsx)(G.a,{item:!0,style:{marginBottom:"2em"},lg:3,children:Object(a.jsx)(fe.a,{style:Se,children:Object(a.jsx)("img",{style:Se,alt:"Writers profile pic",src:this.state.img})})}),Object(a.jsx)(G.a,{item:!0,alignItems:"flex-start",lg:3,children:Object(a.jsx)("p",{style:Ce,children:" ABOUT "})}),Object(a.jsx)(G.a,{item:!0,alignItems:"flex-start",lg:3,children:Object(a.jsxs)("p",{style:{fontWeight:"bold",fontSize:"16px"},children:[" ",this.state.firstname," ",this.state.lastname]})}),Object(a.jsx)(G.a,{item:!0,alignItems:"flex-start",lg:3,children:Object(a.jsxs)(H.a,{style:Ce,children:[" ",this.state.bio," "]})})]})})}),Object(a.jsx)(G.a,{container:!0,justify:"space-between",lg:9,xs:12,md:12,children:this.state.posts&&this.state.posts.map((function(e){return console.log(e),Object(a.jsx)(Oe,{data:e})}))})]}),Object(a.jsx)("hr",{})]})})}}]),s}(n.Component),Te=Object(f.b)((function(e){return{isLogged:e.user.isLogged,userName:e.user.userName,imageUrl:e.user.imageUrl}}))(ke),Ne=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)(w.d,{children:[Object(a.jsx)(w.b,{path:"/medfrontend/user/profile/:id",component:Te}),Object(a.jsx)(w.b,{path:"/medfrontend/user/settings",children:Object(a.jsx)(re,{})}),Object(a.jsx)(w.b,{path:"/medfrontend/user/articles"})]})})}}]),s}(n.Component),Le=s(135),We={fontWeight:"700",fontSize:"20px",color:"#333"},Re={color:"gray",fontSize:"16px"};function Fe(e,t){return e<t?e:t}var ze=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={date:a.props.data.updatedAt.substring(0,10),img:"",description:a.props.data.description.substring(0,Fe(100,a.props.data.description.length))+"...",title:a.props.data.title.substring(0,Fe(30,a.props.data.title.length))+"."},a}return Object(l.a)(s,[{key:"render",value:function(){var e=this.props.classes;return Object(a.jsxs)(G.a,{item:!0,className:e.root,children:[Object(a.jsx)("hr",{}),Object(a.jsx)(Le.a,{className:e.paper,children:Object(a.jsxs)(G.a,{container:!0,children:[Object(a.jsx)(G.a,{item:!0,xs:8,md:8,lg:8,container:!0,children:Object(a.jsx)(G.a,{item:!0,xs:!0,container:!0,direction:"column",children:Object(a.jsxs)(G.a,{item:!0,xs:8,md:8,lg:8,children:[Object(a.jsx)(R.b,{to:"/medfrontend/post/"+this.props.data._id,style:We,children:Object(a.jsxs)(H.a,{style:{fontSize:"20px",fontWeight:"500"},gutterBottom:!0,noWrap:!0,children:[this.state.title," "]})}),Object(a.jsxs)("p",{variant:"body2",color:"textSecondary",noWrap:!0,style:Re,children:[this.state.description," "]}),Object(a.jsx)(H.a,{variant:"body2",style:{cursor:"pointer",fontSize:"13px",marginTop:"auto"},children:this.state.date})]})})}),Object(a.jsx)(G.a,{item:!0,xs:4,md:4,lg:4,children:Object(a.jsx)(fe.a,{className:e.image,children:Object(a.jsx)("img",{className:e.img,alt:"Pic of the post",src:this.props.data.imageUrl})})})]})}),Object(a.jsx)("hr",{})]})}}]),s}(n.Component),Ie=Object(he.a)((function(e){return{root:{flexGrow:1},paper:{paddingLeft:e.spacing(2),margin:"0em",boxShadow:"none"},image:{width:"150px",height:"150px"},img:{margin:"0em",display:"block",maxWidth:"100%",maxHeight:"100%"}}}))(ze),Ue={fontSize:"15px",fontWeight:"bold",marginLeft:"1em"},Pe={fontFamily:"charter, Georgia, Cambria, 'Times New Roman', Times, serif",color:"black"},Ee={fontSize:"15px",fontWeight:"bold",marginLeft:"2em",position:"fixed"},Be=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;Object(c.a)(this,s);var n="#FFFF";return!0!==(a=t.call(this,e)).props.isLogged&&(n="#FFC017"),a.state={posts:[],color:n},a.fetchPosts(0),a}return Object(l.a)(s,[{key:"fetchPosts",value:function(){var e=Object(k.a)(S.a.mark((function e(t){var s,a=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},e.next=3,p.a.get("https://evening-anchorage-15734.herokuapp.com/api/article/list/"+t,{headers:s}).then((function(e){console.log(e),a.setState({posts:e.data.articles})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchPosts();var e="#FFFF";!0!==this.props.isLogged&&(e="#FFC017"),this.setState({color:e})}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(A.a,{position:"static",style:{backgroundColor:this.state.color,paddingBottom:"3.5em",flexGrow:"1",boxShadow:"none",borderBottom:"1px solid black",paddingTop:"3em",borderTop:"1px solid black"},children:Object(a.jsx)(G.a,{container:!0,xs:12,md:12,lg:12,children:Object(a.jsxs)(D.a,{style:{flexGrow:1,paddingTop:"3.5em"},children:[Object(a.jsx)(G.a,{item:!0,xs:2,md:2,lg:2}),Object(a.jsxs)(G.a,{item:!0,xs:3,md:3,lg:3,children:[Object(a.jsx)(H.a,{variant:"h1",style:Pe,children:"Explore new perspectives"}),Object(a.jsx)("br",{}),Object(a.jsx)(H.a,{style:{marginTop:"1em",color:"black",fontSize:"20px"},children:"Read and share ideas from independent voices, world-class publications, and experts from around the globe. Everyone's welcome."})]}),Object(a.jsx)(G.a,{item:!0,xs:2,md:2,lg:2})]})})}),Object(a.jsxs)(G.a,{container:!0,style:{marginTop:"3.5em"},children:[Object(a.jsx)(G.a,{item:!0,xs:2,md:2,lg:2}),Object(a.jsxs)(G.a,{item:!0,xs:10,md:10,lg:5,style:{borderRight:"1px solid lightgray"},children:[Object(a.jsx)("p",{style:Ue,children:"RECENT CONTENT ON MEDBOOK"}),Object(a.jsx)("br",{}),this.state.posts.map((function(e){return console.log(e.title),Object(a.jsx)(Ie,{data:e})}))]}),Object(a.jsx)(G.a,{item:!0,xs:0,md:0,lg:2,display:{xs:"none",md:"none",lg:"block"},children:Object(a.jsx)("p",{style:Ee,children:"READ WHAT MATTERS TO YOU"})}),Object(a.jsx)(G.a,{item:!0,xs:2,md:2,lg:2})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!0===e.isLogged?{posts:t.posts,color:"#FFF"}:{posts:t.posts,color:"#FFC017"}}}]),s}(n.Component),Ae=Object(f.b)((function(e){return{isLogged:e.user.isLogged,userName:e.user.userName}}))(Be),Ge=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(Ae,{})})}}]),s}(n.Component),De=s(132),He=s(133),Ye=s.n(He),Me=s(202),Je={borderTopWidth:"0em",borderRightWidth:"0em",borderLeftWidth:"0em",boxShadow:"none",borderRadius:"1px",backgroundColor:"white",fontSize:"22px",fontFamily:'fell, Georgia, Cambria, "Times New Roman", Times, serif'},_e={paddingTop:"1em",paddingBottom:"1em",borderTopWidth:"0em",borderRightWidth:"0em",borderLeftWidth:"0em",boxShadow:"none",backgroundColor:"white",fontFamily:'fell, Georgia, Cambria, "Times New Roman", Times, serif',fontSize:"3.5em",fontStyle:"normal",lineHeight:"1.1em"},Ve={borderTopWidth:"0em",borderRightWidth:"0em",borderLeftWidth:"0em",boxShadow:"none",borderRadius:"1px",backgroundColor:"white",textAlign:"right",fontFamily:'fell, Georgia, Cambria, "Times New Roman", Times, serif',fontSize:"20px"},qe=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={userName:"",isLogged:!1,errortext:"",text:"",heading:"",image:""},a.onChange=a.onChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"setText",value:function(e){this.setState({text:e})}},{key:"onChange",value:function(e){var t=e.target,s=t.value,a=t.name;this.setState(Object(j.a)({},a,s))}},{key:"handleSubmit",value:function(){var e=Object(k.a)(S.a.mark((function e(t){var s,a,n,i=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("Submit"),Me(this.state.image)){e.next=4;break}return e.abrupt("return",this.setState({errortext:"Please enter a valid image link"}));case 4:return s=JSON.stringify({published:!0,writerid:this.props.userId,claps:0,imageUrl:this.state.image,body:this.state.text,description:this.state.description,title:this.state.heading,clappersIds:[],editorsids:[this.props.userId],tagslist:[]}),a=sessionStorage.getItem("medtoken"),n={"Content-Type":"application/json","auth-token":a},e.next=9,p.a.post("https://evening-anchorage-15734.herokuapp.com/api/article/create",s,{headers:n}).then((function(e){if(e.data.error)return console.log("ERROR"),i.setState({errortext:e.data.msg});console.log(e),i.setState({succtext:"Updated",errortext:""})})).catch((function(e){console.log(e)}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.isLogged?Object(a.jsx)("div",{children:Object(a.jsxs)(q.a,{style:{marginBottom:"1em"},children:[Object(a.jsx)(N.a,{xs:12,md:12,lg:2,className:"d-none d-lg-block",children:Object(a.jsx)(q.a,{style:{marginTop:"1em",position:"fixed"},children:Object(a.jsx)("br",{})})}),Object(a.jsxs)(N.a,{xs:11,md:11,lg:7,children:[Object(a.jsx)("p",{style:{color:"green"},children:this.state.succtext}),Object(a.jsx)("p",{style:{color:"red"},children:this.state.errortext}),Object(a.jsxs)(u.a,{onSubmit:this.handleSubmit,children:[Object(a.jsx)(b.a,{type:"submit",children:"Publish"}),Object(a.jsx)("hr",{}),Object(a.jsx)(u.a.Control,{className:"justify-content-md-center",placeholder:"Title",type:"text",name:"heading",style:_e,size:"lg",onChange:this.onChange,value:this.state.heading}),Object(a.jsx)("hr",{}),Object(a.jsx)(u.a.Control,{className:"justify-content-md-center",placeholder:"Post description",type:"text",name:"description",style:Ve,size:"lg",onChange:this.onChange,value:this.state.description}),Object(a.jsx)("div",{style:{margin:"1em"}}),Object(a.jsx)("div",{style:Je,children:Object(a.jsx)(De.CKEditor,{editor:Ye.a,data:this.state.text,config:{placeholder:"Enter body here",toolbar:["heading","|","bold","italic","blockQuote","link","numberedList","bulletedList","insertTable","mergeTableCells","|","undo","redo"],styles:["full","side","alignLeft","alignCenter","alignRight"]},onChange:function(t,s){var a=s.getData();e.setText(a)},onError:function(e,t){console.log(e),console.log(t)}})}),Object(a.jsx)(u.a.Control,{className:"justify-content-md-center",placeholder:"Add an image link",type:"text",name:"image",style:Ve,size:"lg",onChange:this.onChange,value:this.state.image})]})]})]})}):Object(a.jsx)(w.a,{to:"/medfrontend/auth/login"})}}]),s}(n.Component),Ke=Object(f.b)((function(e){return{isLogged:e.user.isLogged,userName:e.user.userName,userId:e.user.userId,email:e.user.email}}),{updateUser:O})(qe),Qe=(s(218),"https://miro.medium.com/max/2400/1*9M0oeCEgOsovOMz2snw5iw.png"),Xe={borderTopWidth:"0em",borderRightWidth:"0em",borderLeftWidth:"0em",boxShadow:"none",backgroundColor:"white",paddingLeft:"0.15em",fontFamily:'fell, Georgia, Cambria, "Times New Roman", Times, serif',fontSize:"3.5em",fontStyle:"normal"},Ze={paddingTop:"7em"},$e={fontSize:"1.2em",fontWeight:"bold"},et={color:"gray",paddingRight:"0em"},tt={backgroundColor:"lightgray",textAlign:"center",color:"gray",fontSize:"90%",paddingTop:"0.2em",paddingBottom:"0.20em",borderRadius:"0.2em",margin:"1em"},st={fontFamily:"charter, Georgia, Cambria, 'Times New Roman', Times, serif",fontSize:"21px",lineHeight:"1.5em"},at={opacity:"20%",width:"70px"},nt={color:"gray"},it={borderTopWidth:"0em",borderRightWidth:"0em",borderLeftWidth:"0em",boxShadow:"none",borderRadius:"1px",backgroundColor:"white",textAlign:"right",fontFamily:'fell, Georgia, Cambria, "Times New Roman", Times, serif',fontSize:"20px",marginTop:"0.5em",marginBottom:"0.5em"},rt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={body:"",title:"",description:"",date:"",taglist:["Hello","Shallow","Meow","Sheow"],clappable:!1,claped:!1},a.getData(),a}return Object(l.a)(s,[{key:"getData",value:function(){var e=Object(k.a)(S.a.mark((function e(){var t,s=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},e.next=3,p.a.get("https://evening-anchorage-15734.herokuapp.com/api/article/"+this.props.match.params.id,{headers:t}).then((function(e){console.log("Called"),console.log(e.data);var t=e.data.article.updatedAt;t=t.substring(0,10);var a="",n="",i="",r="";!1===e.data.publication.exists?(a=e.data.writer.firstname,n=e.data.prof.about,r="/medfrontend/user/profile/"+(i=e.data.article.writerid)):(a=e.data.publication.name,n=e.data.publication.description,r="/medfrontend/publication/"+(i=e.data.publication.pid)),s.setState({body:e.data.article.body,title:e.data.article.title,description:e.data.article.description,date:t,name:e.data.writer.firstname,writerid:e.data.article.writerid,image:e.data.prof.image,claps:e.data.article.claps,pname:a,pid:i,plink:r,pdesc:n})})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(a.jsxs)("div",{style:Ze,children:[Object(a.jsx)(G.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:Xe,children:this.state.title}),Object(a.jsxs)(ce.a,{style:it,children:[Object(a.jsx)("hr",{}),Object(a.jsx)(G.a,{container:!0,md:3}),Object(a.jsx)(G.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:it,children:this.state.description}),Object(a.jsx)("hr",{})]}),Object(a.jsxs)(ce.a,{style:{paddingBottom:"1em"},children:[Object(a.jsx)(G.a,{container:!0,xs:2,md:2,lg:2}),Object(a.jsx)(G.a,{container:!0,xs:8,md:8,lg:8,children:Object(a.jsxs)(G.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(a.jsx)(G.a,{container:!0,xs:4,md:4,lg:4}),Object(a.jsxs)(G.a,{container:!0,xs:3,md:4,lg:4,children:[Object(a.jsxs)(G.a,{xs:3,lg:3,md:3,children:[" ",Object(a.jsx)("img",{src:this.state.image,alt:"Writer pic",roundedCircle:!0,fluid:!0,style:{width:"50px",height:"50px",borderRadius:"50%"}})]}),Object(a.jsxs)(G.a,{xs:4,md:4,lg:4,children:[Object(a.jsx)(R.b,{to:"/medfrontend/user/profile/"+this.state.writerid,style:{color:"black"},children:this.state.name})," ",Object(a.jsx)("br",{}),Object(a.jsx)("p",{style:nt,children:this.state.date})]})]})]})})]}),Object(a.jsxs)(G.a,{container:!0,display:{xs:"none",md:"none",lg:"block"},children:[Object(a.jsx)(G.a,{item:!0,lg:2,md:2,sm:2}),Object(a.jsx)(G.a,{item:!0,lg:2,md:2,sm:2,children:Object(a.jsxs)(G.a,{direction:"column",style:{position:"fixed",paddingLeft:"7em"},children:[Object(a.jsx)(G.a,{item:!0,style:{marginBottom:"2em"},lg:2,children:Object(a.jsx)("p",{style:$e,children:Object(a.jsx)(R.b,{to:this.state.plink,style:{color:"black"},children:this.state.pname})})}),Object(a.jsx)(G.a,{item:!0,alignItems:"flex-start",lg:2,children:Object(a.jsxs)("p",{style:et,children:[" ",this.state.pdesc,Object(a.jsx)("hr",{})]})}),Object(a.jsxs)(G.a,{item:!0,alignItems:"flex-start",lg:2,children:[Object(a.jsx)("img",{src:Qe,alt:"Claps:",style:at}),this.state.claps]})]})}),Object(a.jsx)(G.a,{item:!0,lg:5,md:5,xs:5,children:Object(a.jsx)("p",{className:"ck-content",alignItems:"flex-start",style:st,children:de()(this.state.body)})})]}),Object(a.jsxs)(G.a,{container:!0,children:[Object(a.jsx)(G.a,{item:!0,lg:2,md:2,xs:2}),Object(a.jsx)(G.a,{item:!0,lg:2}),this.state.taglist.map((function(e){return Object(a.jsx)(G.a,{xs:1,md:1,lg:1,children:Object(a.jsx)("div",{style:tt,children:"list"})})}))]}),Object(a.jsx)("hr",{}),Object(a.jsxs)(G.a,{container:!0,children:[Object(a.jsx)(G.a,{item:!0,lg:4,md:4,xs:4}),Object(a.jsxs)(G.a,{item:!0,xs:6,md:6,lg:6,justify:"center",alignItems:"center",children:[Object(a.jsx)("img",{src:Qe,alt:"Claps",style:at,fluid:!0})," ",this.state.claps]})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("hr",{})]})}}]),s}(n.Component),ot=Object(f.b)((function(e){return{isLogged:e.user.isLogged,userId:e.user.userId}}))(rt),ct=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)(w.d,{children:[Object(a.jsx)(w.b,{path:"/medfrontend/post/new",children:Object(a.jsx)(Ke,{})}),Object(a.jsx)(w.b,{path:"/medfrontend/post/:id",component:ot})]})})}}]),s}(n.Component);var lt=function(){return Object(a.jsx)(f.a,{store:te,children:Object(a.jsxs)(R.a,{children:[Object(a.jsx)(V,{}),Object(a.jsxs)(w.d,{children:[Object(a.jsx)(w.b,{path:"/medfrontend/auth",children:Object(a.jsxs)(G.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[" ",Object(a.jsx)(L,{})]})}),Object(a.jsx)(w.b,{path:"/medfrontend/user",children:Object(a.jsx)(q.a,{className:"justify-content-md-center",children:Object(a.jsx)(Ne,{})})}),Object(a.jsx)(w.b,{path:"/medfrontend/post",children:Object(a.jsx)(ct,{})}),Object(a.jsx)(w.b,{exact:!0,path:"/medfrontend/",children:Object(a.jsx)(Ge,{})})]})]})})};s(219);s(220).config(),o.a.render(Object(a.jsx)(lt,{}),document.getElementById("root"))}},[[222,1,2]]]);
//# sourceMappingURL=main.5a7cd3cf.chunk.js.map